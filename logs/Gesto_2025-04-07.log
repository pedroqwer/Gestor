2025-04-07 13:47:29.704 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1992 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 13:47:29.711 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 13:47:29.775 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 13:47:29.776 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 13:47:31.466 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 13:47:31.600 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 121 ms. Found 8 JPA repository interfaces.
2025-04-07 13:47:32.615 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 13:47:32.636 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 13:47:32.636 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 13:47:32.711 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 13:47:32.712 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2934 ms
2025-04-07 13:47:32.903 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 13:47:33.146 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 13:47:33.321 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@50900033
2025-04-07 13:47:33.326 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 13:47:33.373 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 13:47:33.418 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 13:47:33.495 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.044s)
2025-04-07 13:47:33.511 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 13:47:33.517 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 13:47:33.664 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 13:47:33.754 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 13:47:33.802 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 13:47:34.765 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 13:47:34.890 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 13:47:34.902 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@475dec7e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6a443992)
2025-04-07 13:47:34.903 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1952efe4) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@65b17111)
2025-04-07 13:47:34.904 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4d275fc5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6e4675a)
2025-04-07 13:47:34.904 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@8c795ad) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6610445d)
2025-04-07 13:47:34.905 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@113ee62d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@34459de7)
2025-04-07 13:47:34.905 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9b0c3f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@644d82dd)
2025-04-07 13:47:34.906 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2240ff7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1a9600f1)
2025-04-07 13:47:34.906 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@42340d68) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4a673499)
2025-04-07 13:47:34.907 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@681ed195) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4225c5ef)
2025-04-07 13:47:37.097 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 13:47:38.335 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 13:47:39.430 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 13:47:40.541 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 13:47:40.542 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 13:47:41.050 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 13:47:41.054 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 13:47:41.766 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 13:47:41.827 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 13:47:41.844 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 13.28 seconds (process running for 15.366)
2025-04-07 13:47:41.943 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 13:47:42.003 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 13:47:42.029 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 13:47:42.034 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 13:47:48.151 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 13:47:48.152 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 13:47:48.157 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 5 ms
2025-04-07 13:47:48.574 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 13:47:48.579 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 13:47:48.582 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 13:47:48.584 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 13:47:48.712 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 13:47:48.766 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 13:48:00.757 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 13:48:00.761 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 13:48:00.765 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 13:48:00.767 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 13:48:00.918 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 13:48:00.960 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 13:48:00.971 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 13:48:00.995 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 13:48:01.022 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 13:48:23.380 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 13:48:23.383 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 13:48:23.387 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 13:48:23.389 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 13:48:23.421 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 13:48:38.867 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 13:48:39.182 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 13:48:39.249 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 13:48:39.307 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 13:48:39.348 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 13:51:30.105 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 10476 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 13:51:30.128 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 13:51:32.170 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 13:51:32.350 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 164 ms. Found 8 JPA repository interfaces.
2025-04-07 13:51:33.587 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 13:51:33.767 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@77eb76f
2025-04-07 13:51:33.770 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 13:51:33.820 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 13:51:33.846 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 13:51:33.930 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.047s)
2025-04-07 13:51:33.951 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 13:51:33.956 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 13:51:34.243 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 13:51:34.433 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 13:51:34.549 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 13:51:35.896 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 13:51:36.072 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 13:51:36.086 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6c9fe061) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4988c303)
2025-04-07 13:51:36.087 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@798ac54d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@51653509)
2025-04-07 13:51:36.087 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@42ea4bac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4df50829)
2025-04-07 13:51:36.088 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@627a1c77) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1acfb04c)
2025-04-07 13:51:36.088 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@a683f92) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6fb9dab6)
2025-04-07 13:51:36.089 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5d12fa92) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ab87cac)
2025-04-07 13:51:36.089 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@71e740c6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@50aa5826)
2025-04-07 13:51:36.090 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1a26eecb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6382bc3f)
2025-04-07 13:51:36.091 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@28a821f9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2a4137a2)
2025-04-07 13:51:37.952 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 13:51:39.312 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 13:51:40.207 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 13:51:40.710 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 13:51:41.662 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 13:51:41.663 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 13:51:42.198 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 13:51:42.205 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 13:51:43.035 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 13:51:43.035 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 13:51:43.039 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 3 ms
2025-04-07 13:51:43.082 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 13.901 seconds (process running for 24.577)
2025-04-07 13:51:43.181 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 13:51:43.271 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 13:51:43.316 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 13:51:43.322 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 13:51:43.647 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 13:51:43.648 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 13:51:43.649 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 13:51:43.698 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 13:51:43.699 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 13:51:43.699 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 13:51:43.737 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 13:51:43.739 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 13:51:43.740 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 13:51:43.832 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 13:51:43.846 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 13:51:43.983 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 13:51:43.984 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 13:51:43.990 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 13:51:43.998 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 13:51:43.999 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 13:51:44.004 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 13:51:44.006 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 13:51:44.150 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 13:51:44.151 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 13:51:44.161 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 13:51:44.162 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 13:51:44.167 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 13:51:44.169 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 13:51:44.175 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 13:51:44.176 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 13:51:44.180 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 13:51:44.217 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 1
2025-04-07 13:51:44.219 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 1. Detalles: Cannot invoke "com.example.Gestor.Model.Entity.Perfil.getNombre()" because the return value of "com.example.Gestor.Model.Entity.CuentaBancaria.getUsuario()" is null
2025-04-07 13:51:44.405 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 13:51:44.416 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 13:51:44.418 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 13:51:44.425 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 13:51:44.432 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 13:51:44.433 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 13:51:44.440 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 13:51:44.442 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 13:51:44.448 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 13:51:44.449 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 13:51:44.457 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 13:51:44.466 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 13:51:44.467 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 13:51:44.480 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 13:51:44.493 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 13:51:44.522 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 13:51:44.528 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 13:51:44.556 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 14:00:44.242 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 18172 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 14:00:44.249 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 14:00:46.169 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 14:00:46.371 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 184 ms. Found 8 JPA repository interfaces.
2025-04-07 14:00:47.609 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 14:00:47.838 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4700db93
2025-04-07 14:00:47.842 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 14:00:47.889 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 14:00:47.916 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 14:00:48.004 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.046s)
2025-04-07 14:00:48.022 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 14:00:48.029 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 14:00:48.269 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 14:00:48.428 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 14:00:48.529 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 14:00:50.422 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 14:00:50.587 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 14:00:50.602 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5216e43c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@e620893)
2025-04-07 14:00:50.603 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@411c5fa2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68fce3e5)
2025-04-07 14:00:50.610 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@d2eddc2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@13967a64)
2025-04-07 14:00:50.611 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@30d4d6fb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3fb8e8cf)
2025-04-07 14:00:50.612 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4483e237) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6466e599)
2025-04-07 14:00:50.612 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@721384e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@a15e4fd)
2025-04-07 14:00:50.613 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@515c3dd2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@245504d)
2025-04-07 14:00:50.614 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6c9fe061) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4988c303)
2025-04-07 14:00:50.615 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@798ac54d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@51653509)
2025-04-07 14:00:52.543 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 14:00:53.886 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:00:54.645 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 14:00:55.159 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 14:00:56.051 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 14:00:56.053 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 14:00:56.685 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:00:56.696 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:00:57.713 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:00:57.713 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:00:57.716 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 2 ms
2025-04-07 14:00:57.770 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 14.658 seconds (process running for 23.762)
2025-04-07 14:00:57.903 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 14:00:57.977 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 14:00:58.005 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 14:00:58.009 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 14:00:58.297 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:00:58.298 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:00:58.298 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:00:58.337 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:00:58.338 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:00:58.338 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:00:58.368 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:00:58.368 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:00:58.369 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:00:58.480 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 14:00:58.494 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 14:00:58.635 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:00:58.636 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 14:00:58.641 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:00:58.649 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:00:58.650 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 14:00:58.656 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:00:58.657 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 14:00:58.792 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 14:00:58.793 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 14:00:58.800 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:00:58.801 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 14:00:58.805 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 14:00:58.806 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 14:00:58.811 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:00:58.811 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 14:00:58.814 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 14:00:59.030 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 1
2025-04-07 14:00:59.209 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 14:00:59.215 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 14:00:59.216 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 14:00:59.224 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 14:00:59.229 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:00:59.230 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 14:00:59.236 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:00:59.238 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 14:00:59.243 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:00:59.244 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 14:00:59.248 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 14:00:59.257 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 14:00:59.260 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 14:00:59.267 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 14:00:59.278 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 14:00:59.294 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:00:59.307 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 14:00:59.316 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 14:02:30.984 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 9072 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 14:02:30.989 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 14:02:33.287 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 14:02:33.531 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 213 ms. Found 8 JPA repository interfaces.
2025-04-07 14:02:34.863 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 14:02:35.150 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2df0a4c3
2025-04-07 14:02:35.154 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 14:02:35.204 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 14:02:35.223 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 14:02:35.311 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.057s)
2025-04-07 14:02:35.327 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 14:02:35.332 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 14:02:35.613 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 14:02:35.828 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 14:02:35.953 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 14:02:37.576 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 14:02:37.752 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 14:02:37.777 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@411bed55) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@a4aecc3)
2025-04-07 14:02:37.778 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@59f59a0a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2539ab41)
2025-04-07 14:02:37.779 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3bd69bf6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@662754bb)
2025-04-07 14:02:37.780 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1377b7bf) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7bfc7533)
2025-04-07 14:02:37.781 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74fa4891) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@28245839)
2025-04-07 14:02:37.781 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@640c8cd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1e0d70db)
2025-04-07 14:02:37.782 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@38950d4b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@32fa7ff0)
2025-04-07 14:02:37.783 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@32fccfc2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4702faee)
2025-04-07 14:02:37.783 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@576d4810) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3609b8f2)
2025-04-07 14:02:39.819 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 14:02:41.221 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:02:42.228 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 14:02:42.712 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 14:02:43.884 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 14:02:43.909 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 14:02:44.581 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:02:44.587 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:02:45.534 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:02:45.534 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:02:45.536 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 2 ms
2025-04-07 14:02:45.590 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 16.111 seconds (process running for 52.74)
2025-04-07 14:02:45.768 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 14:02:45.834 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 14:02:45.853 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 14:02:45.857 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 14:02:46.178 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:02:46.179 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:02:46.180 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 14:02:46.220 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:02:46.221 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:02:46.221 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:02:46.256 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:02:46.256 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:02:46.257 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:02:46.352 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 14:02:46.366 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 14:02:46.512 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:02:46.513 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 14:02:46.518 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:02:46.526 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:02:46.526 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 14:02:46.531 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:02:46.532 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 14:02:46.693 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 14:02:46.694 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 14:02:46.703 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:02:46.704 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 14:02:46.708 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 14:02:46.710 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 14:02:46.715 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:02:46.715 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 14:02:46.720 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 14:02:46.923 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 1
2025-04-07 14:02:47.078 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 14:02:47.086 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 14:02:47.087 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 14:02:47.091 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 14:02:47.098 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:02:47.099 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 14:02:47.104 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:02:47.104 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 14:02:47.110 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:02:47.110 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 14:02:47.116 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 14:02:47.123 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 14:02:47.123 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 14:02:47.129 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 14:02:47.182 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 14:02:47.208 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:02:47.215 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 14:02:47.228 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 14:04:58.270 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 16724 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 14:04:58.278 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 14:05:01.549 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 14:05:01.828 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 245 ms. Found 8 JPA repository interfaces.
2025-04-07 14:05:03.728 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 14:05:03.989 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@1ff35ee7
2025-04-07 14:05:03.997 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 14:05:04.048 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 14:05:04.117 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 14:05:04.279 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.069s)
2025-04-07 14:05:04.318 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 14:05:04.328 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 14:05:04.638 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 14:05:04.857 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 14:05:04.984 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 14:05:06.828 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 14:05:07.058 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 14:05:07.072 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1cf38112) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@59e6fb8a)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@502cd238) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68032a80)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6878cd83) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@62c41ad)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3027fe42) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@410185ec)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6f3b4c9a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@bfe49f9)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@424632a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4947b8a7)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7cad6289) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5655d64)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@22ff53d1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@568945a9)
2025-04-07 14:05:07.078 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4127dcdb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6e8627e6)
2025-04-07 14:05:09.728 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 14:05:11.769 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:05:12.908 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 14:05:13.513 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 14:05:14.848 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 14:05:14.848 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 14:05:15.609 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:05:15.623 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:05:16.888 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:05:16.888 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:05:16.888 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:05:16.978 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 19.899 seconds (process running for 31.861)
2025-04-07 14:05:17.164 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 14:05:17.266 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 14:05:17.289 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 14:05:17.297 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 14:05:17.718 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:05:17.718 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:05:17.718 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:05:17.789 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:05:17.789 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:05:17.789 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:05:17.857 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:05:17.857 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:05:17.857 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:05:18.013 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 14:05:18.029 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 14:05:18.236 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:05:18.237 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 14:05:18.243 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:05:18.258 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:05:18.258 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 14:05:18.268 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:05:18.268 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 14:05:18.469 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 14:05:18.469 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 14:05:18.493 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:05:18.499 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 14:05:18.499 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 14:05:18.508 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 14:05:18.508 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:05:18.508 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 14:05:18.538 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 14:05:18.593 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 1
2025-04-07 14:05:18.599 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 1. Detalles: Cannot invoke "com.example.Gestor.Model.Entity.Perfil.getNombre()" because the return value of "com.example.Gestor.Model.Entity.CuentaBancaria.getUsuario()" is null
2025-04-07 14:05:18.808 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 14:05:18.823 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 14:05:18.823 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 14:05:18.833 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 14:05:18.839 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:05:18.839 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 14:05:18.847 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:05:18.855 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 14:05:18.864 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:05:18.868 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 14:05:18.869 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 14:05:18.894 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 14:05:18.894 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 14:05:18.903 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 14:05:18.919 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 14:05:18.948 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:05:18.959 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 14:05:18.973 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 14:06:23.993 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 2356 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 14:06:23.999 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 14:06:26.634 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 14:06:26.948 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 283 ms. Found 8 JPA repository interfaces.
2025-04-07 14:06:29.567 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 14:06:29.934 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@60abe420
2025-04-07 14:06:29.949 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 14:06:30.042 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 14:06:30.067 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 14:06:30.176 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.066s)
2025-04-07 14:06:30.208 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 14:06:30.234 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 14:06:30.567 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 14:06:30.783 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 14:06:30.975 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 14:06:32.874 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 14:06:33.082 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 14:06:33.102 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@62c41ad) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3027fe42)
2025-04-07 14:06:33.102 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@410185ec) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6f3b4c9a)
2025-04-07 14:06:33.102 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@bfe49f9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@424632a)
2025-04-07 14:06:33.102 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4947b8a7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7cad6289)
2025-04-07 14:06:33.102 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5655d64) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@22ff53d1)
2025-04-07 14:06:33.107 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@568945a9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4127dcdb)
2025-04-07 14:06:33.107 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6e8627e6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@36bf903c)
2025-04-07 14:06:33.107 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2a073f4f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@55b9ffd0)
2025-04-07 14:06:33.107 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@a5f5b96) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40ab1491)
2025-04-07 14:06:35.947 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 14:06:37.219 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:06:38.563 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 14:06:39.179 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 14:06:40.597 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 14:06:40.597 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 14:06:41.546 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:06:41.553 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:06:42.651 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:06:42.651 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:06:42.654 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 2 ms
2025-04-07 14:06:42.749 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 19.865 seconds (process running for 31.798)
2025-04-07 14:06:42.947 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 14:06:43.036 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 14:06:43.072 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 14:06:43.078 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 14:06:43.394 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:06:43.394 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:06:43.394 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:06:43.436 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:06:43.445 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:06:43.445 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:06:43.495 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:06:43.495 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:06:43.495 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:06:43.586 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 14:06:43.603 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 14:06:43.771 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:06:43.771 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 14:06:43.777 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:06:43.793 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:06:43.793 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 14:06:43.801 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:06:43.801 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 14:06:44.030 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 14:06:44.030 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 14:06:44.057 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:06:44.058 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 14:06:44.069 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 14:06:44.070 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 14:06:44.096 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:06:44.096 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 14:06:44.131 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 14:06:44.220 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 2
2025-04-07 14:06:44.225 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 2. Detalles: Cannot invoke "com.example.Gestor.Model.Entity.Perfil.getNombre()" because the return value of "com.example.Gestor.Model.Entity.CuentaBancaria.getUsuario()" is null
2025-04-07 14:06:44.601 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 14:06:44.611 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 14:06:44.625 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 14:06:44.632 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 14:06:44.752 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:06:44.752 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 14:06:44.780 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:06:44.780 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 14:06:44.785 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:06:44.785 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 14:06:44.796 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 14:06:44.845 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 14:06:44.847 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 14:06:44.860 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 14:06:44.910 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 14:06:44.989 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:06:45.011 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 14:06:45.065 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 14:08:58.117 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 19020 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 14:08:58.122 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 14:09:00.616 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 14:09:00.838 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 191 ms. Found 8 JPA repository interfaces.
2025-04-07 14:09:02.212 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 14:09:02.479 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@712eb075
2025-04-07 14:09:02.484 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 14:09:02.543 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 14:09:02.605 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 14:09:02.693 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.050s)
2025-04-07 14:09:02.720 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 14:09:02.726 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 14:09:03.291 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 14:09:03.694 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 14:09:03.839 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 14:09:05.779 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 14:09:05.968 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 14:09:05.984 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@747fb4b1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6924ff83)
2025-04-07 14:09:05.985 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@e19908e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5312940c)
2025-04-07 14:09:05.986 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5ac168e3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@14574cdf)
2025-04-07 14:09:05.987 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5608233b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@11fd6f02)
2025-04-07 14:09:05.988 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40aa9bae) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6eb506d0)
2025-04-07 14:09:05.988 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@79b3f1c6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3cc148d)
2025-04-07 14:09:05.989 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@172f88b1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@51ea9f02)
2025-04-07 14:09:05.989 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37b17938) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@54ba7b3f)
2025-04-07 14:09:05.990 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3f3b0b19) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3aac9173)
2025-04-07 14:09:08.423 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 14:09:10.145 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:09:11.074 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 14:09:11.400 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 14:09:12.712 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 14:09:12.714 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 14:09:13.370 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:09:13.377 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:09:14.491 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:09:14.492 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:09:14.496 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 3 ms
2025-04-07 14:09:14.590 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 17.613 seconds (process running for 27.564)
2025-04-07 14:09:14.771 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 14:09:14.880 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 14:09:14.906 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 14:09:14.911 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 14:09:15.307 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:09:15.308 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:09:15.309 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:09:15.376 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:09:15.377 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:09:15.377 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:09:15.419 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:09:15.420 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:09:15.421 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 14:09:15.533 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 14:09:15.551 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 14:09:15.712 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:09:15.713 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 14:09:15.718 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:09:15.731 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:09:15.732 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 14:09:15.739 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:09:15.741 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 14:09:15.972 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 14:09:15.973 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 14:09:15.987 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:09:15.987 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 14:09:15.992 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 14:09:15.994 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 14:09:16.000 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:09:16.000 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 14:09:16.004 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 14:09:16.013 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 2
2025-04-07 14:09:16.014 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 2. Detalles: Cannot invoke "com.example.Gestor.Model.Entity.Perfil.getNombre()" because the return value of "com.example.Gestor.Model.Entity.CuentaBancaria.getUsuario()" is null
2025-04-07 14:09:16.244 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 14:09:16.254 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 14:09:16.260 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 14:09:16.272 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 14:09:16.328 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:09:16.329 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 14:09:16.335 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:09:16.336 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 14:09:16.343 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:09:16.344 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 14:09:16.350 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 14:09:16.356 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 14:09:16.357 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 14:09:16.365 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 14:09:16.380 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 14:09:16.400 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:09:16.405 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 14:09:16.418 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 14:29:38.038 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 15420 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 14:29:38.043 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 14:29:40.274 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 14:29:40.519 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 220 ms. Found 8 JPA repository interfaces.
2025-04-07 14:29:42.347 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 14:29:42.558 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@56511eda
2025-04-07 14:29:42.563 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 14:29:42.623 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 14:29:42.646 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 14:29:42.746 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.063s)
2025-04-07 14:29:42.769 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 14:29:42.777 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 14:29:43.116 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 14:29:43.340 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 14:29:43.472 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 14:29:45.381 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 14:29:45.590 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 14:29:45.605 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@245504d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6c9fe061)
2025-04-07 14:29:45.606 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4988c303) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@798ac54d)
2025-04-07 14:29:45.607 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@51653509) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@42ea4bac)
2025-04-07 14:29:45.608 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4df50829) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@627a1c77)
2025-04-07 14:29:45.608 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1acfb04c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@a683f92)
2025-04-07 14:29:45.609 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6fb9dab6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5d12fa92)
2025-04-07 14:29:45.609 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ab87cac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@71e740c6)
2025-04-07 14:29:45.609 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@50aa5826) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1a26eecb)
2025-04-07 14:29:45.610 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6382bc3f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@28a821f9)
2025-04-07 14:29:48.166 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 14:29:49.745 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:29:50.858 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 14:29:51.429 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 14:29:52.943 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 14:29:52.944 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 14:29:53.554 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:29:53.559 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:29:54.559 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:29:54.560 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:29:54.562 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 2 ms
2025-04-07 14:29:54.615 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 17.761 seconds (process running for 28.364)
2025-04-07 14:29:54.811 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 14:29:54.891 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 14:29:54.916 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 14:29:54.923 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 14:29:55.270 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:29:55.271 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:29:55.272 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 14:29:55.357 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:29:55.357 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:29:55.358 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:29:55.403 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:29:55.404 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:29:55.404 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:29:55.508 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 14:29:55.523 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 14:29:55.694 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:29:55.696 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 14:29:55.701 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:29:55.709 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:29:55.709 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 14:29:55.715 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:29:55.716 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 14:29:55.903 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 14:29:55.904 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 14:29:55.916 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:29:55.920 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 14:29:55.926 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 14:29:55.927 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 14:29:55.933 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:29:55.933 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 14:29:55.939 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 14:29:55.947 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 2
2025-04-07 14:29:55.986 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 2. Detalles: Cannot invoke "com.example.Gestor.Model.Entity.Perfil.getNombre()" because the return value of "com.example.Gestor.Model.Entity.CuentaBancaria.getUsuario()" is null
2025-04-07 14:29:56.226 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 14:29:56.234 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 14:29:56.236 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 14:29:56.243 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 14:29:56.256 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:29:56.257 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 14:29:56.262 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:29:56.264 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 14:29:56.269 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:29:56.270 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 14:29:56.276 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 14:29:56.286 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 14:29:56.287 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 14:29:56.295 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 14:29:56.308 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 14:29:56.337 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:29:56.377 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 14:29:56.404 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 14:37:36.926 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 7136 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 14:37:36.932 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 14:37:39.268 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 14:37:39.496 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 204 ms. Found 8 JPA repository interfaces.
2025-04-07 14:37:41.112 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 14:37:41.347 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2f726cf4
2025-04-07 14:37:41.352 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 14:37:41.415 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 14:37:41.444 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 14:37:41.540 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.058s)
2025-04-07 14:37:41.568 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 14:37:41.578 [main] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 14:37:41.882 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 14:37:42.104 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 14:37:42.230 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 14:37:44.092 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 14:37:44.292 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 14:37:44.311 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@289a70a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2461b519)
2025-04-07 14:37:44.312 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5216e43c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@e620893)
2025-04-07 14:37:44.314 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@411c5fa2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68fce3e5)
2025-04-07 14:37:44.316 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@d2eddc2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@13967a64)
2025-04-07 14:37:44.317 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@30d4d6fb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3fb8e8cf)
2025-04-07 14:37:44.319 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4483e237) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6466e599)
2025-04-07 14:37:44.320 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@721384e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@a15e4fd)
2025-04-07 14:37:44.322 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@515c3dd2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@245504d)
2025-04-07 14:37:44.324 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6c9fe061) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4988c303)
2025-04-07 14:37:46.791 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 14:37:48.279 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:37:49.325 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 14:37:49.856 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 14:37:51.035 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 14:37:51.037 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 14:37:51.706 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:37:51.713 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 14:37:52.873 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:37:52.873 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:37:52.875 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 14:37:52.938 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 17.063 seconds (process running for 26.721)
2025-04-07 14:37:53.085 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 14:37:53.198 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 14:37:53.229 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 14:37:53.234 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 14:37:53.588 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:37:53.588 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:37:53.589 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:37:53.642 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:37:53.643 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:37:53.644 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:37:53.699 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 14:37:53.699 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 14:37:53.700 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 0 ms
2025-04-07 14:37:53.817 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 14:37:53.870 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 14:37:54.051 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:37:54.053 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 14:37:54.061 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:37:54.076 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 14:37:54.077 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 14:37:54.086 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 14:37:54.089 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 14:37:54.359 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 14:37:54.361 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 14:37:54.384 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:37:54.386 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 14:37:54.406 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 14:37:54.408 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 14:37:54.426 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 14:37:54.427 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 14:37:54.446 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 14:37:54.458 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 2
2025-04-07 14:37:54.694 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 14:37:54.707 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 14:37:54.709 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 14:37:54.719 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 14:37:54.725 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:37:54.727 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 14:37:54.735 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:37:54.736 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 14:37:54.744 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 14:37:54.745 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 14:37:54.752 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 14:37:54.759 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 14:37:54.761 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 14:37:54.767 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 14:37:54.779 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 14:37:54.802 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 14:37:54.810 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 14:37:54.826 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 19:52:31.470 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarting - Starting AuthenticationControllerTest v1.0 using Java 19.0.2 with PID 16352 (started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 19:52:31.478 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 19:52:34.103 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 19:52:34.380 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 246 ms. Found 8 JPA repository interfaces.
2025-04-07 19:52:35.966 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 19:52:36.233 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@7a8dbbf1
2025-04-07 19:52:36.241 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 19:52:36.312 [main] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 19:52:36.339 [main] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 19:52:36.419 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory.info - Schema history table `control_gastos`.`flyway_schema_history` does not exist yet
2025-04-07 19:52:36.427 [main] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.040s)
2025-04-07 19:52:36.484 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory.info - Creating Schema History table `control_gastos`.`flyway_schema_history` ...
2025-04-07 19:52:36.606 [main] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: << Empty Schema >>
2025-04-07 19:52:36.645 [main] INFO  o.f.core.internal.command.DbMigrate.info - Migrating schema `control_gastos` to version "1"
2025-04-07 19:52:36.666 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_auditoria' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:36.677 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_categorias' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:36.689 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_cuenta_bancaria' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:36.703 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_movimientos' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:36.717 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_perfil' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:36.730 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_presupuesto' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:36.744 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_role' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:36.768 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_usuario' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 19:52:37.196 [main] INFO  o.f.core.internal.command.DbMigrate.info - Successfully applied 1 migration to schema `control_gastos`, now at version v1 (execution time 00:00.508s)
2025-04-07 19:52:37.467 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 19:52:37.652 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 19:52:37.761 [main] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 19:52:39.543 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 19:52:39.751 [main] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 19:52:39.774 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3d1319b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1193d400)
2025-04-07 19:52:39.775 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6dbc3756) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@26a2106e)
2025-04-07 19:52:39.776 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2c75b0c8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@23c95292)
2025-04-07 19:52:39.777 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2f43c73a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@19d483dc)
2025-04-07 19:52:39.778 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@18a693de) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@71120f9a)
2025-04-07 19:52:39.779 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40597c95) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7daecd21)
2025-04-07 19:52:39.780 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@51ba8929) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@30b5225b)
2025-04-07 19:52:39.782 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3b035d0c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@304f4888)
2025-04-07 19:52:39.783 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@35b97c69) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2c07277f)
2025-04-07 19:52:42.287 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 19:52:44.779 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 19:52:46.138 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 19:52:46.655 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 19:52:49.279 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 19:52:49.281 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 19:52:50.001 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 19:52:50.007 [main] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 19:52:51.870 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 19:52:51.877 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 19:52:51.887 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 8 ms
2025-04-07 19:52:52.147 [main] INFO  c.e.G.T.T.AuthenticationControllerTest.logStarted - Started AuthenticationControllerTest in 21.852 seconds (process running for 34.816)
2025-04-07 19:52:52.390 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 19:52:52.509 [main] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`id`,
        r1_0.`nombre` 
    from
        `role` r1_0 
    where
        r1_0.`nombre`=?
2025-04-07 19:52:52.786 [main] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `usuario`
        (
            `activo`, `creación`, `password`, `fecha_ultimo_login`, `username`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 19:52:52.821 [main] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `perfil`
        (
            `apellido`, `dni`, `email`, `nombre`, `telefono`, `id`
        ) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-07 19:52:52.869 [main] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `user_role`
        (
            `user_codigo`, `role_id`
        ) 
    values
        (?, ?)
2025-04-07 19:52:53.313 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 19:52:53.314 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 19:52:53.315 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 19:52:53.389 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 19:52:53.390 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 19:52:53.391 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 19:52:53.456 [main] INFO  o.s.mock.web.MockServletContext.log - Initializing Spring TestDispatcherServlet ''
2025-04-07 19:52:53.457 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Initializing Servlet ''
2025-04-07 19:52:53.458 [main] INFO  o.s.t.w.s.TestDispatcherServlet.initServletBean - Completed initialization in 1 ms
2025-04-07 19:52:53.583 [main] ERROR c.e.G.C.C.ControllerCategoria.modificarCategoria - Error al modificar la categoría 1: Error interno
2025-04-07 19:52:53.634 [main] INFO  c.e.G.C.C.ControllerCategoria.modificarCategoria - Categoría modificada con éxito: 1
2025-04-07 19:52:53.852 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 19:52:53.853 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Auditorias encontrados para el usuario ID: 1
2025-04-07 19:52:53.860 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 19:52:53.871 [main] INFO  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - Obteniendo todos las auditorias del usuario ID: 1
2025-04-07 19:52:53.872 [main] WARN  c.e.G.C.A.ControllerAuditoria.getAllAuditroriasByUser - No se encontraron auditoriaa para el usuario ID: 1
2025-04-07 19:52:53.877 [main] INFO  c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Obteniendo auditoria para el usuario con ID: 1
2025-04-07 19:52:53.878 [main] ERROR c.e.G.C.A.ControllerAuditoria.obtenerAuditoria - Error al obtener la auditoria del usuario con ID: 1. Detalles: No encontrada
2025-04-07 19:52:54.077 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 99
2025-04-07 19:52:54.078 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Error al consultar saldo para usuario con ID: 99. Detalles: Error en la base de datos
2025-04-07 19:52:54.089 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 19:52:54.090 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 1
2025-04-07 19:52:54.099 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 999
2025-04-07 19:52:54.105 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Error al obtener la cuenta del usuario con ID: 999. Detalles: Cuenta no encontrada
2025-04-07 19:52:54.112 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 1
2025-04-07 19:52:54.114 [main] ERROR c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Error al crear la cuenta para el usuario: 1
2025-04-07 19:52:54.122 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.consultarSaldo - Consultando saldo para el usuario con ID: 1
2025-04-07 19:52:54.130 [main] INFO  c.e.G.C.Cuenta.ControllerCuenta.obtenerCuenta - Obteniendo cuenta para el usuario con ID: 2
2025-04-07 19:52:54.375 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfiles - Obteniendo lista de perfiles...
2025-04-07 19:52:54.384 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 999
2025-04-07 19:52:54.385 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Error al obtener perfil con ID: 999. Detalles: Perfil no encontrado
2025-04-07 19:52:54.394 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerPerfil - Obteniendo perfil con ID: 1
2025-04-07 19:52:54.405 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 19:52:54.407 [main] WARN  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - No se encontró un teléfono para el perfil con ID: 1
2025-04-07 19:52:54.417 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 19:52:54.418 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Error al obtener el teléfono para el perfil con ID: 1: Falla técnica
2025-04-07 19:52:54.428 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Iniciando la búsqueda del teléfono para el perfil con ID: 1
2025-04-07 19:52:54.429 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.obtenerTelefonoPorId - Teléfono encontrado para el perfil con ID: 1: 123456789
2025-04-07 19:52:54.440 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil - Modificando perfil del usuario con ID: 1
2025-04-07 19:52:54.450 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 999
2025-04-07 19:52:54.454 [main] ERROR c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Error al eliminar perfil con ID: 999. Detalles: Error al eliminar el perfil
2025-04-07 19:52:54.462 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.modificarPerfil_Admin - Modificando perfil por admin con ID: 1
2025-04-07 19:52:54.482 [main] INFO  c.e.G.C.Perfil.ControllerPerfil.deletePerfil - Eliminando perfil con ID: 1
2025-04-07 19:52:54.514 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 19:52:54.526 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 19:52:54.548 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 19:53:15.898 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 21596 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 19:53:15.905 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 19:53:16.035 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 19:53:16.036 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 19:53:18.728 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 19:53:19.060 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 307 ms. Found 8 JPA repository interfaces.
2025-04-07 19:53:20.995 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 19:53:21.031 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 19:53:21.031 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 19:53:21.171 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 19:53:21.172 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 5134 ms
2025-04-07 19:53:21.489 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 19:53:21.924 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 19:53:22.192 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2774e629
2025-04-07 19:53:22.196 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 19:53:22.260 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 19:53:22.319 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 19:53:22.436 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.071s)
2025-04-07 19:53:22.464 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 19:53:22.473 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 19:53:22.693 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 19:53:22.851 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 19:53:22.975 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 19:53:24.995 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 19:53:25.220 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 19:53:25.238 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39333cca) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@264e2ec8)
2025-04-07 19:53:25.239 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5bdf8a8d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@359e1092)
2025-04-07 19:53:25.239 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@156bbf87) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4284fb8c)
2025-04-07 19:53:25.240 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@65289ab3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@20770c04)
2025-04-07 19:53:25.241 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6828180a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@d15c618)
2025-04-07 19:53:25.242 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2cc9280b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@344606ba)
2025-04-07 19:53:25.242 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1c06a070) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3f0090ee)
2025-04-07 19:53:25.243 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5a6c7e75) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5e1bd054)
2025-04-07 19:53:25.243 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@77b7fec7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4c8b873f)
2025-04-07 19:53:28.414 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 19:53:29.835 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 19:53:31.042 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 19:53:32.702 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 19:53:32.704 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 19:53:33.604 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 19:53:33.611 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 19:53:34.826 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 19:53:34.918 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 19:53:34.937 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 20.537 seconds (process running for 22.948)
2025-04-07 19:53:35.111 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 19:53:35.202 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 19:53:35.228 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 19:53:35.237 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 19:54:43.422 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 19:54:43.977 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 19:54:43.992 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 19:54:44.000 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 19:54:44.007 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 19:58:52.232 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 9864 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 19:58:52.246 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 19:58:52.508 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 19:58:52.509 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 19:58:58.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 19:58:58.579 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 403 ms. Found 8 JPA repository interfaces.
2025-04-07 19:59:01.592 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 19:59:01.643 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 19:59:01.644 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 19:59:01.891 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 19:59:01.892 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 9382 ms
2025-04-07 19:59:02.423 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 19:59:03.269 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 19:59:03.691 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@528fec29
2025-04-07 19:59:03.698 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 19:59:03.806 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 19:59:03.854 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 19:59:04.057 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.118s)
2025-04-07 19:59:04.099 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 19:59:04.114 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 19:59:04.748 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 19:59:05.027 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 19:59:05.161 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 19:59:08.566 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 19:59:09.100 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 19:59:09.117 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1abbff97) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@13759c55)
2025-04-07 19:59:09.118 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@58ab8efd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5cb7e8e6)
2025-04-07 19:59:09.119 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@19b5e3a0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@269d43f7)
2025-04-07 19:59:09.120 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2245edbf) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4156d1c9)
2025-04-07 19:59:09.121 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@774892a0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3b86f545)
2025-04-07 19:59:09.121 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3623df9f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@410c980b)
2025-04-07 19:59:09.122 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7262cf18) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7ec230cc)
2025-04-07 19:59:09.123 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5635d7ac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@735cc1a1)
2025-04-07 19:59:09.123 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1722dadd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7889cca5)
2025-04-07 19:59:15.815 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 19:59:19.598 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 19:59:24.868 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 19:59:28.128 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 19:59:28.130 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 19:59:29.203 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 19:59:29.216 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 19:59:30.678 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 19:59:30.786 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 19:59:30.812 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 41.908 seconds (process running for 44.844)
2025-04-07 19:59:31.015 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 19:59:31.114 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 19:59:31.143 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 19:59:31.147 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:01:48.692 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:01:48.693 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:01:48.698 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 3 ms
2025-04-07 20:01:49.030 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    SELECT
        * 
    FROM
        role 
    WHERE
        id IN (?)
2025-04-07 20:01:49.095 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id` 
    from
        `usuario` u1_0 
    where
        u1_0.`username`=? 
    limit
        ?
2025-04-07 20:01:49.377 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `usuario`
        (
            `activo`, `creación`, `password`, `fecha_ultimo_login`, `username`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:01:49.398 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `perfil`
        (
            `apellido`, `dni`, `email`, `nombre`, `telefono`, `id`
        ) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-07 20:01:49.505 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `user_role`
        (
            `user_codigo`, `role_id`
        ) 
    values
        (?, ?)
2025-04-07 20:01:49.523 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:02:22.050 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    SELECT
        * 
    FROM
        role 
    WHERE
        id IN (?)
2025-04-07 20:02:22.055 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id` 
    from
        `usuario` u1_0 
    where
        u1_0.`username`=? 
    limit
        ?
2025-04-07 20:02:22.254 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `usuario`
        (
            `activo`, `creación`, `password`, `fecha_ultimo_login`, `username`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:02:22.262 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `perfil`
        (
            `apellido`, `dni`, `email`, `nombre`, `telefono`, `id`
        ) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-07 20:02:22.276 [http-nio-8080-exec-3] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1062-23000: Duplicate entry 'user2' for key 'uc_perfil_dni'
2025-04-07 20:02:22.278 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper.logExceptions - SQL Error: 1062, SQLState: 23000
2025-04-07 20:02:22.279 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper.logExceptions - (conn=2576) Duplicate entry 'user2' for key 'uc_perfil_dni'
2025-04-07 20:02:48.072 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    SELECT
        * 
    FROM
        role 
    WHERE
        id IN (?)
2025-04-07 20:02:48.078 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id` 
    from
        `usuario` u1_0 
    where
        u1_0.`username`=? 
    limit
        ?
2025-04-07 20:02:48.205 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `usuario`
        (
            `activo`, `creación`, `password`, `fecha_ultimo_login`, `username`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:02:48.208 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `perfil`
        (
            `apellido`, `dni`, `email`, `nombre`, `telefono`, `id`
        ) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-07 20:02:48.211 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `user_role`
        (
            `user_codigo`, `role_id`
        ) 
    values
        (?, ?)
2025-04-07 20:02:48.257 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:02:48.263 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:02:48.266 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:02:48.269 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:02:48.290 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:02:59.793 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:03:00.904 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:03:00.919 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:03:00.928 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:03:00.969 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:06:04.868 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 7672 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:06:04.919 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:06:05.207 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:06:05.208 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:06:08.033 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:06:08.322 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 268 ms. Found 8 JPA repository interfaces.
2025-04-07 20:06:10.174 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:06:10.210 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:06:10.211 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:06:10.415 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:06:10.416 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 5205 ms
2025-04-07 20:06:10.783 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:06:11.244 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:06:11.458 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1049-42000: Unknown database 'control_gastos'
2025-04-07 20:06:12.471 [restartedMain] ERROR o.s.b.w.e.tomcat.TomcatStarter.onStartup - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'JWTAuthenticationFilter': Unsatisfied dependency expressed through field 'handlerExceptionResolver': Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Error creating bean with name 'flyway' defined in class path resource [com/example/Gestor/Config/FliwayConfig.class]: Unable to obtain connection from database: (conn=2586) Unknown database 'control_gastos'
----------------------------------------------------------------------------------------
SQL State  : 42000
Error Code : 1049
Message    : (conn=2586) Unknown database 'control_gastos'

2025-04-07 20:06:12.563 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
2025-04-07 20:06:12.601 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-04-07 20:06:12.624 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07 20:06:12.676 [restartedMain] ERROR o.s.boot.SpringApplication.reportFailure - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.Gestor.GestorApplication.main(GestorApplication.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:520)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'JWTAuthenticationFilter': Unsatisfied dependency expressed through field 'handlerExceptionResolver': Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Error creating bean with name 'flyway' defined in class path resource [com/example/Gestor/Config/FliwayConfig.class]: Unable to obtain connection from database: (conn=2586) Unknown database 'control_gastos'
----------------------------------------------------------------------------------------
SQL State  : 42000
Error Code : 1049
Message    : (conn=2586) Unknown database 'control_gastos'

	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 16 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Error creating bean with name 'flyway' defined in class path resource [com/example/Gestor/Config/FliwayConfig.class]: Unable to obtain connection from database: (conn=2586) Unknown database 'control_gastos'
----------------------------------------------------------------------------------------
SQL State  : 42000
Error Code : 1049
Message    : (conn=2586) Unknown database 'control_gastos'

	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 58 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Error creating bean with name 'flyway' defined in class path resource [com/example/Gestor/Config/FliwayConfig.class]: Unable to obtain connection from database: (conn=2586) Unknown database 'control_gastos'
----------------------------------------------------------------------------------------
SQL State  : 42000
Error Code : 1049
Message    : (conn=2586) Unknown database 'control_gastos'

	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1916)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1880)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1738)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1613)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888)
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Error creating bean with name 'flyway' defined in class path resource [com/example/Gestor/Config/FliwayConfig.class]: Unable to obtain connection from database: (conn=2586) Unknown database 'control_gastos'
----------------------------------------------------------------------------------------
SQL State  : 42000
Error Code : 1049
Message    : (conn=2586) Unknown database 'control_gastos'

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 97 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [com/example/Gestor/Config/FliwayConfig.class]: Unable to obtain connection from database: (conn=2586) Unknown database 'control_gastos'
----------------------------------------------------------------------------------------
SQL State  : 42000
Error Code : 1049
Message    : (conn=2586) Unknown database 'control_gastos'

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:227)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1522)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:542)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:371)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:364)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:120)
	at org.springframework.orm.jpa.EntityManagerFactoryAccessor.setBeanFactory(EntityManagerFactoryAccessor.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	... 107 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: (conn=2586) Unknown database 'control_gastos'
----------------------------------------------------------------------------------------
SQL State  : 42000
Error Code : 1049
Message    : (conn=2586) Unknown database 'control_gastos'

	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:71)
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:76)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:137)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:176)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1916)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1869)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 125 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: (conn=2586) Unknown database 'control_gastos'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:289)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:378)
	at org.mariadb.jdbc.client.impl.StandardClient.authenticationHandler(StandardClient.java:306)
	at org.mariadb.jdbc.client.impl.StandardClient.<init>(StandardClient.java:226)
	at org.mariadb.jdbc.Driver.connect(Driver.java:68)
	at org.mariadb.jdbc.Driver.connect(Driver.java:92)
	at org.mariadb.jdbc.Driver.connect(Driver.java:26)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:59)
	... 133 common frames omitted
2025-04-07 20:06:29.764 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1988 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:06:29.769 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:06:29.898 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:06:29.900 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:06:32.770 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:06:33.054 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 253 ms. Found 8 JPA repository interfaces.
2025-04-07 20:06:34.999 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:06:35.043 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:06:35.045 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:06:35.179 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:06:35.179 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 5277 ms
2025-04-07 20:06:35.517 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:06:35.924 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:06:36.218 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@5551ccf0
2025-04-07 20:06:36.225 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:06:36.312 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:06:36.347 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:06:36.473 [restartedMain] INFO  o.f.c.i.s.JdbcTableSchemaHistory.info - Schema history table `control_gastos`.`flyway_schema_history` does not exist yet
2025-04-07 20:06:36.484 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.062s)
2025-04-07 20:06:36.555 [restartedMain] INFO  o.f.c.i.s.JdbcTableSchemaHistory.info - Creating Schema History table `control_gastos`.`flyway_schema_history` ...
2025-04-07 20:06:36.663 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: << Empty Schema >>
2025-04-07 20:06:36.699 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Migrating schema `control_gastos` to version "1"
2025-04-07 20:06:36.724 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_auditoria' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:36.739 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_categorias' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:36.752 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_cuenta_bancaria' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:36.765 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_movimientos' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:36.776 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_perfil' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:36.788 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_presupuesto' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:36.802 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_role' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:36.823 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor.warn - DB: Name 'pk_usuario' ignored for PRIMARY key. (SQL State:  - Error Code: 1280)
2025-04-07 20:06:37.248 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Successfully applied 1 migration to schema `control_gastos`, now at version v1 (execution time 00:00.497s)
2025-04-07 20:06:37.553 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:06:37.890 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:06:38.036 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:06:40.387 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:06:40.598 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:06:40.622 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5e63bb0c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@43edcb56)
2025-04-07 20:06:40.623 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5fae3368) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@fd4463c)
2025-04-07 20:06:40.624 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4cac3711) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@61b6f2a9)
2025-04-07 20:06:40.625 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4f2da884) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@62e5e2fb)
2025-04-07 20:06:40.626 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4fdc4509) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@19a9d5e1)
2025-04-07 20:06:40.627 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3be237d8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@765df865)
2025-04-07 20:06:40.628 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5b040faa) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@c55cff6)
2025-04-07 20:06:40.629 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@26237553) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3f242f22)
2025-04-07 20:06:40.630 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@44a60e33) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66ae432e)
2025-04-07 20:06:44.229 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:06:47.377 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:06:49.126 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:06:51.130 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:06:51.131 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:06:52.054 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:06:52.061 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:06:53.743 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:06:53.897 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:06:53.934 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 25.809 seconds (process running for 28.291)
2025-04-07 20:06:54.176 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:06:54.295 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`id`,
        r1_0.`nombre` 
    from
        `role` r1_0 
    where
        r1_0.`nombre`=?
2025-04-07 20:06:54.607 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `usuario`
        (
            `activo`, `creación`, `password`, `fecha_ultimo_login`, `username`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:06:54.634 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `perfil`
        (
            `apellido`, `dni`, `email`, `nombre`, `telefono`, `id`
        ) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-07 20:06:54.679 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `user_role`
        (
            `user_codigo`, `role_id`
        ) 
    values
        (?, ?)
2025-04-07 20:07:24.429 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:07:24.429 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:07:24.432 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 3 ms
2025-04-07 20:07:24.671 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    SELECT
        * 
    FROM
        role 
    WHERE
        id IN (?)
2025-04-07 20:07:24.688 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id` 
    from
        `usuario` u1_0 
    where
        u1_0.`username`=? 
    limit
        ?
2025-04-07 20:07:24.794 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `usuario`
        (
            `activo`, `creación`, `password`, `fecha_ultimo_login`, `username`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:07:24.796 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `perfil`
        (
            `apellido`, `dni`, `email`, `nombre`, `telefono`, `id`
        ) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-07 20:07:24.799 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `user_role`
        (
            `user_codigo`, `role_id`
        ) 
    values
        (?, ?)
2025-04-07 20:07:24.842 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:07:26.307 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    SELECT
        * 
    FROM
        role 
    WHERE
        id IN (?)
2025-04-07 20:07:26.311 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id` 
    from
        `usuario` u1_0 
    where
        u1_0.`username`=? 
    limit
        ?
2025-04-07 20:08:12.489 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    SELECT
        * 
    FROM
        role 
    WHERE
        id IN (?)
2025-04-07 20:08:12.494 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id` 
    from
        `usuario` u1_0 
    where
        u1_0.`username`=? 
    limit
        ?
2025-04-07 20:08:12.600 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `usuario`
        (
            `activo`, `creación`, `password`, `fecha_ultimo_login`, `username`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:08:12.602 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `perfil`
        (
            `apellido`, `dni`, `email`, `nombre`, `telefono`, `id`
        ) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-07 20:08:12.605 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `user_role`
        (
            `user_codigo`, `role_id`
        ) 
    values
        (?, ?)
2025-04-07 20:08:12.693 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:08:12.753 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:08:12.772 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:08:12.781 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:08:12.812 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:08:22.482 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:08:22.527 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:08:22.533 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:08:22.536 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:08:22.745 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:08:22.753 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    update
        `usuario` 
    set
        `activo`=?,
        `password`=?,
        `fecha_ultimo_login`=?,
        `username`=? 
    where
        `id`=?
2025-04-07 20:08:22.794 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:08:22.798 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:08:22.800 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:08:22.803 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:08:50.857 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:08:50.861 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:08:50.865 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:08:50.868 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:08:50.883 [http-nio-8080-exec-6] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 2
2025-04-07 20:08:50.894 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:08:50.898 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:08:50.908 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:08:50.912 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:08:50.922 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `cuenta_bancaria`
        (
            `moneda`, `saldo`, `usuario_id`, `id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:08:50.926 [http-nio-8080-exec-6] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 2
2025-04-07 20:08:55.776 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:08:55.779 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:08:55.782 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:08:55.785 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:08:55.792 [http-nio-8080-exec-9] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Iniciando creación de cuenta para el usuario: 3
2025-04-07 20:08:55.794 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:08:55.798 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:08:55.803 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:08:55.806 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:08:55.813 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:08:55.816 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:08:55.818 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:08:55.821 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:08:55.828 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `cuenta_bancaria`
        (
            `moneda`, `saldo`, `usuario_id`, `id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:08:55.831 [http-nio-8080-exec-9] INFO  c.e.G.C.Cuenta.ControllerCuenta.crearCuenta - Cuenta creado con éxito para el usuario: 3
2025-04-07 20:09:25.343 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener.onApplicationEvent - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-07 20:09:25.351 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:09:25.722 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:09:25.740 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:09:25.755 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:09:25.763 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:09:26.012 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1988 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:09:26.013 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:09:26.878 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:09:26.973 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 92 ms. Found 8 JPA repository interfaces.
2025-04-07 20:09:27.377 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:09:27.382 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:09:27.383 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:09:27.444 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:09:27.444 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1426 ms
2025-04-07 20:09:27.533 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:09:27.583 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Starting...
2025-04-07 20:09:27.593 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-2 - Added connection org.mariadb.jdbc.Connection@2d0a8895
2025-04-07 20:09:27.594 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Start completed.
2025-04-07 20:09:27.596 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:09:27.604 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:09:27.622 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.008s)
2025-04-07 20:09:27.633 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:09:27.635 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:09:27.709 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:09:27.719 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:09:27.872 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:09:27.878 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:09:27.880 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@355027d7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3b4d8f76)
2025-04-07 20:09:27.881 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@526e4d2c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1ee0ca88)
2025-04-07 20:09:27.882 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2aba281c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7d5b3402)
2025-04-07 20:09:27.882 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5dfc11a8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@45d03415)
2025-04-07 20:09:27.883 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3e510e7b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1a0ed697)
2025-04-07 20:09:27.884 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2742e52f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@63f61d4e)
2025-04-07 20:09:27.885 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5562e59d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@39342bc8)
2025-04-07 20:09:27.885 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@9efda5c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5a20ba42)
2025-04-07 20:09:27.886 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@18acf296) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5ee020)
2025-04-07 20:09:28.352 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:09:28.367 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:09:28.976 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController': Unsatisfied dependency expressed through field 'authenticationService': Error creating bean with name 'authenticationService': Unsatisfied dependency expressed through field 'passwordEncoder': No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-07 20:09:28.977 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:09:28.978 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown initiated...
2025-04-07 20:09:28.984 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown completed.
2025-04-07 20:09:28.985 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
2025-04-07 20:09:29.000 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07 20:09:29.056 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter.report - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field passwordEncoder in com.example.Gestor.Model.Service.Authentication.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

2025-04-07 20:09:30.643 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1988 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:09:30.644 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:09:31.332 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:09:31.434 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 99 ms. Found 8 JPA repository interfaces.
2025-04-07 20:09:31.919 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:09:31.949 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:09:31.950 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:09:32.084 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:09:32.086 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1438 ms
2025-04-07 20:09:32.184 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:09:32.232 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Starting...
2025-04-07 20:09:32.238 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-3 - Added connection org.mariadb.jdbc.Connection@764d2927
2025-04-07 20:09:32.238 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Start completed.
2025-04-07 20:09:32.240 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:09:32.248 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:09:32.262 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.006s)
2025-04-07 20:09:32.271 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:09:32.272 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:09:32.319 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:09:32.324 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:09:32.400 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:09:32.404 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:09:32.405 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5baddb94) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5fc17ae6)
2025-04-07 20:09:32.405 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1dc93b39) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@25b06038)
2025-04-07 20:09:32.406 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@10746e61) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@443620c3)
2025-04-07 20:09:32.406 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@10f2db8f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@36e5c809)
2025-04-07 20:09:32.406 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5d1bfd2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7094a793)
2025-04-07 20:09:32.406 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@763c34ad) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6e011fe3)
2025-04-07 20:09:32.406 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@662602de) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@33db89b6)
2025-04-07 20:09:32.407 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@24d55a3c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@42cda742)
2025-04-07 20:09:32.407 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@142b7d37) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7bd2d03d)
2025-04-07 20:09:32.801 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:09:32.812 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:09:33.753 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:09:33.754 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:09:34.109 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:09:34.115 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:09:34.921 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:09:34.956 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:09:34.965 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 4.396 seconds (process running for 189.321)
2025-04-07 20:09:34.971 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:09:34.976 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:09:34.981 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:09:34.983 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:09:34.990 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener.onApplicationEvent - Condition evaluation unchanged
2025-04-07 20:12:08.570 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:12:08.571 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:12:08.575 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:12:08.585 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:12:08.588 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:08.630 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:12:08.662 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.addCreate_Transaccion - Creando transacción para usuario ID: 3
2025-04-07 20:12:08.671 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0
2025-04-07 20:12:08.677 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:12:08.682 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:12:08.690 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:08.696 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `categorias`
        (
            `descripcion`, `tipo`
        ) 
    values
        (?, ?)
2025-04-07 20:12:08.704 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:08.710 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    update
        `cuenta_bancaria` 
    set
        `moneda`=?,
        `saldo`=?,
        `usuario_id`=? 
    where
        `id`=?
2025-04-07 20:12:08.731 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `movimientos`
        (
            `cantidad`, `categoria_id`, `descripcion`, `fecha`, `is_perfil`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:12:08.746 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:12:13.877 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:12:13.881 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:13.891 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:12:13.915 [http-nio-8080-exec-3] INFO  c.e.G.C.T.ControllerTransaccion.addCreate_Transaccion - Creando transacción para usuario ID: 2
2025-04-07 20:12:13.917 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0
2025-04-07 20:12:13.922 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:12:13.925 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:12:13.929 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:13.931 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:13.935 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    update
        `cuenta_bancaria` 
    set
        `moneda`=?,
        `saldo`=?,
        `usuario_id`=? 
    where
        `id`=?
2025-04-07 20:12:13.945 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `movimientos`
        (
            `cantidad`, `categoria_id`, `descripcion`, `fecha`, `is_perfil`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:12:13.953 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:12:13.957 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:12:13.960 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:12:13.963 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:12:13.976 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:12:25.724 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:12:25.760 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:25.764 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:12:25.780 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver.logException - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-04-07 20:12:35.652 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:12:35.655 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:12:35.658 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:12:35.667 [http-nio-8080-exec-6] INFO  c.e.G.C.T.ControllerTransaccion.addCreate_Transaccion - Creando transacción para usuario ID: 7
2025-04-07 20:12:35.670 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0
2025-04-07 20:12:35.674 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:12:35.680 [http-nio-8080-exec-6] ERROR c.e.G.E.ControllerExceptionHandler.handleGenericException - Error al crear la entidad: Error al crear la transaccion: la entidad Perfil buscada con id: 7 no existe
com.example.Gestor.Exception.CreateEntityException: Error al crear la transaccion: la entidad Perfil buscada con id: 7 no existe
	at com.example.Gestor.Model.Service.Transaccion.TransaccionService.Create(TransaccionService.java:115)
	at com.example.Gestor.Controller.Transaccion.ControllerTransaccion.addCreate_Transaccion(ControllerTransaccion.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.Gestor.Config.Security.JWTAuthenticationFilter.doFilterInternal(JWTAuthenticationFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1589)
Caused by: com.example.Gestor.Exception.NotFoundEntityException: la entidad Perfil buscada con id: 7 no existe
	at com.example.Gestor.Model.Service.Transaccion.TransaccionService.lambda$Create$0(TransaccionService.java:43)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.example.Gestor.Model.Service.Transaccion.TransaccionService.Create(TransaccionService.java:43)
	... 102 common frames omitted
2025-04-07 20:12:35.726 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.logException - Resolved [com.example.Gestor.Exception.CreateEntityException: Error al crear la transaccion: la entidad Perfil buscada con id: 7 no existe]
2025-04-07 20:13:04.579 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener.onApplicationEvent - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-07 20:13:04.587 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:13:05.164 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:13:05.170 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:13:05.172 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown initiated...
2025-04-07 20:13:05.185 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown completed.
2025-04-07 20:13:05.455 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1988 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:13:05.456 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:13:06.926 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:13:07.080 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 150 ms. Found 8 JPA repository interfaces.
2025-04-07 20:13:07.632 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:13:07.637 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:13:07.639 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:13:07.724 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:13:07.724 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2261 ms
2025-04-07 20:13:07.863 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:13:07.920 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-4 - Starting...
2025-04-07 20:13:07.930 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-4 - Added connection org.mariadb.jdbc.Connection@3c6843c0
2025-04-07 20:13:07.931 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-4 - Start completed.
2025-04-07 20:13:07.932 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:13:07.940 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:13:07.959 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.009s)
2025-04-07 20:13:07.970 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:13:07.972 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:13:08.057 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:13:08.071 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:13:08.267 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:13:08.275 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:13:08.278 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2677070e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7fac662d)
2025-04-07 20:13:08.280 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7b128ef9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37c0aa83)
2025-04-07 20:13:08.281 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@29118402) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@35901203)
2025-04-07 20:13:08.283 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5a1a370e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@683c0a7c)
2025-04-07 20:13:08.284 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4da8a2ed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@781db151)
2025-04-07 20:13:08.285 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@73b45b1b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7b53d0fb)
2025-04-07 20:13:08.285 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7364bab6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66661ab2)
2025-04-07 20:13:08.286 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37dbe9e6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@526a33ee)
2025-04-07 20:13:08.287 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@48d821f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@52e8bbb6)
2025-04-07 20:13:08.722 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:13:08.740 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:13:10.321 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController': Unsatisfied dependency expressed through field 'authenticationService': Error creating bean with name 'authenticationService': Unsatisfied dependency expressed through field 'passwordEncoder': No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-07 20:13:10.323 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:13:10.325 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-4 - Shutdown initiated...
2025-04-07 20:13:10.452 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-4 - Shutdown completed.
2025-04-07 20:13:10.529 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
2025-04-07 20:13:10.580 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07 20:13:10.790 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter.report - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field passwordEncoder in com.example.Gestor.Model.Service.Authentication.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

2025-04-07 20:13:13.506 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1988 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:13:13.506 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:13:14.903 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:13:15.090 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 183 ms. Found 8 JPA repository interfaces.
2025-04-07 20:13:16.188 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:13:16.190 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:13:16.190 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:13:16.261 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:13:16.261 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2752 ms
2025-04-07 20:13:16.372 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:13:16.429 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-5 - Starting...
2025-04-07 20:13:16.436 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-5 - Added connection org.mariadb.jdbc.Connection@46fdd8e2
2025-04-07 20:13:16.436 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-5 - Start completed.
2025-04-07 20:13:16.438 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:13:16.448 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:13:16.469 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.011s)
2025-04-07 20:13:16.485 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:13:16.487 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:13:16.580 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:13:16.591 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:13:16.735 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:13:16.740 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:13:16.742 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5d5b204c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3a670ad0)
2025-04-07 20:13:16.743 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6501a3ad) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@29fa307e)
2025-04-07 20:13:16.745 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2d273c4d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2f1482b3)
2025-04-07 20:13:16.746 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@47605037) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3f61e165)
2025-04-07 20:13:16.747 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2bb07790) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@203a694f)
2025-04-07 20:13:16.747 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@659e7497) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@55c4cb88)
2025-04-07 20:13:16.748 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7d602a57) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@e6344a5)
2025-04-07 20:13:16.749 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@184fb332) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6b24a338)
2025-04-07 20:13:16.750 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@176a1e99) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@33826bd)
2025-04-07 20:13:17.167 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:13:17.180 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:13:17.960 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:13:17.962 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:13:18.209 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:13:18.214 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:13:18.746 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:13:18.792 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:13:18.807 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 5.361 seconds (process running for 413.163)
2025-04-07 20:13:18.814 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:13:18.818 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:13:18.823 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:13:18.826 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:13:18.831 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener.onApplicationEvent - Condition evaluation unchanged
2025-04-07 20:14:09.080 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:14:09.080 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:14:09.084 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:14:09.095 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:14:09.100 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:14:09.104 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:09.129 [http-nio-8080-exec-2] INFO  c.e.G.C.P.PresupuestoController.crearPresupuesto - Iniciando creación de presupuesto para el usuario: 2
2025-04-07 20:14:09.134 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:14:09.140 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:09.160 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:14:09.166 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `presupuesto`
        (
            `limite_mensual`, `descripcion`, `fecha_del_mes`, `perfil`, `presupuesto_del_mes`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:14:09.178 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:14:09.190 [http-nio-8080-exec-2] INFO  c.e.G.C.P.PresupuestoController.crearPresupuesto - Presupuesto creado con éxito para el usuario: 2
2025-04-07 20:14:18.016 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:14:18.020 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:14:18.023 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:18.033 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver.logException - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-04-07 20:14:28.365 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:14:28.368 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:14:28.373 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:28.379 [http-nio-8080-exec-5] INFO  c.e.G.C.P.PresupuestoController.crearPresupuesto - Iniciando creación de presupuesto para el usuario: 2
2025-04-07 20:14:28.381 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:14:28.384 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:28.389 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:14:28.392 [http-nio-8080-exec-5] ERROR c.e.G.E.ControllerExceptionHandler.handleGenericException - Error al crear la entidad: Error al crear el presupuesto: Ya existe un presupuesto para el mes actual.
com.example.Gestor.Exception.CreateEntityException: Error al crear el presupuesto: Ya existe un presupuesto para el mes actual.
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.Create(PresupuestoService.java:163)
	at com.example.Gestor.Controller.Presupuesto.PresupuestoController.crearPresupuesto(PresupuestoController.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.Gestor.Config.Security.JWTAuthenticationFilter.doFilterInternal(JWTAuthenticationFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1589)
Caused by: java.lang.IllegalStateException: Ya existe un presupuesto para el mes actual.
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.Create(PresupuestoService.java:129)
	... 102 common frames omitted
2025-04-07 20:14:28.399 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.logException - Resolved [com.example.Gestor.Exception.CreateEntityException: Error al crear el presupuesto: Ya existe un presupuesto para el mes actual.]
2025-04-07 20:14:40.096 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:14:40.100 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:14:40.104 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:40.113 [http-nio-8080-exec-7] INFO  c.e.G.C.P.PresupuestoController.crearPresupuesto - Iniciando creación de presupuesto para el usuario: 3
2025-04-07 20:14:40.115 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:14:40.118 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:40.124 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:14:40.129 [http-nio-8080-exec-7] ERROR c.e.G.E.ControllerExceptionHandler.handleGenericException - Error al crear la entidad: Error al crear el presupuesto: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3
com.example.Gestor.Exception.CreateEntityException: Error al crear el presupuesto: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.Create(PresupuestoService.java:163)
	at com.example.Gestor.Controller.Presupuesto.PresupuestoController.crearPresupuesto(PresupuestoController.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.Gestor.Config.Security.JWTAuthenticationFilter.doFilterInternal(JWTAuthenticationFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1589)
Caused by: java.lang.IllegalStateException: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.Create(PresupuestoService.java:141)
	... 102 common frames omitted
2025-04-07 20:14:40.131 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.logException - Resolved [com.example.Gestor.Exception.CreateEntityException: Error al crear el presupuesto: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3]
2025-04-07 20:14:55.848 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:14:55.852 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:14:55.855 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:55.863 [http-nio-8080-exec-9] INFO  c.e.G.C.P.PresupuestoController.crearPresupuesto - Iniciando creación de presupuesto para el usuario: 3
2025-04-07 20:14:55.865 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:14:55.869 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:14:55.876 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:14:55.878 [http-nio-8080-exec-9] ERROR c.e.G.E.ControllerExceptionHandler.handleGenericException - Error al crear la entidad: Error al crear el presupuesto: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3
com.example.Gestor.Exception.CreateEntityException: Error al crear el presupuesto: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.Create(PresupuestoService.java:163)
	at com.example.Gestor.Controller.Presupuesto.PresupuestoController.crearPresupuesto(PresupuestoController.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.Gestor.Config.Security.JWTAuthenticationFilter.doFilterInternal(JWTAuthenticationFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1589)
Caused by: java.lang.IllegalStateException: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.Create(PresupuestoService.java:141)
	... 102 common frames omitted
2025-04-07 20:14:55.882 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.logException - Resolved [com.example.Gestor.Exception.CreateEntityException: Error al crear el presupuesto: La cuenta bancaria no tiene saldo suficiente para el usuario con ID: 3]
2025-04-07 20:15:15.945 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:15:15.949 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:15:15.952 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:15:15.960 [http-nio-8080-exec-1] INFO  c.e.G.C.P.PresupuestoController.crearPresupuesto - Iniciando creación de presupuesto para el usuario: 3
2025-04-07 20:15:15.962 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:15:15.965 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:15:15.969 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:15:15.973 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `presupuesto`
        (
            `limite_mensual`, `descripcion`, `fecha_del_mes`, `perfil`, `presupuesto_del_mes`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:15:16.001 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:15:16.005 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:15:16.009 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:15:16.013 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:15:16.027 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:15:16.035 [http-nio-8080-exec-1] INFO  c.e.G.C.P.PresupuestoController.crearPresupuesto - Presupuesto creado con éxito para el usuario: 3
2025-04-07 20:15:54.880 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:15:55.608 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:15:55.613 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:15:55.615 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-5 - Shutdown initiated...
2025-04-07 20:15:55.620 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-5 - Shutdown completed.
2025-04-07 20:17:09.264 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 13824 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:17:09.274 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:17:09.422 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:17:09.422 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:17:11.981 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:17:12.228 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 222 ms. Found 8 JPA repository interfaces.
2025-04-07 20:17:14.024 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:17:14.052 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:17:14.053 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:17:14.198 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:17:14.199 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 4776 ms
2025-04-07 20:17:14.587 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:17:15.070 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:17:15.330 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@6e0152f3
2025-04-07 20:17:15.336 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:17:15.416 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:17:15.448 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:17:15.605 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.103s)
2025-04-07 20:17:15.630 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:17:15.640 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:17:15.947 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:17:16.145 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:17:16.279 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:17:18.298 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:17:18.529 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:17:18.549 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@730777e3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@52aa700b)
2025-04-07 20:17:18.549 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@ddc3d5e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68cf1eab)
2025-04-07 20:17:18.554 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@20bfc43e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2194d20a)
2025-04-07 20:17:18.555 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4dce3dab) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5de458ff)
2025-04-07 20:17:18.556 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@324e949) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4277fa5)
2025-04-07 20:17:18.557 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@38b829ef) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4764ada7)
2025-04-07 20:17:18.558 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@63ae7aa3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5ccbfb24)
2025-04-07 20:17:18.558 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@25c54603) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@472ede89)
2025-04-07 20:17:18.559 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5745dfad) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@54d40cba)
2025-04-07 20:17:21.962 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:17:23.525 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:17:24.580 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:17:26.587 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:17:26.588 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:17:27.391 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:17:27.398 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:17:28.566 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:17:28.801 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:17:28.829 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 21.175 seconds (process running for 23.388)
2025-04-07 20:17:29.040 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:17:29.123 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:17:29.145 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:17:29.150 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:17:33.406 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:17:33.406 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:17:33.411 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:17:33.722 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:17:33.726 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:17:33.737 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:17:33.850 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.addCreate_Transaccion - Creando transacción para usuario ID: 2
2025-04-07 20:17:33.881 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0
2025-04-07 20:17:33.896 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:17:33.900 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:17:33.910 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:17:33.956 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `categorias`
        (
            `descripcion`, `tipo`
        ) 
    values
        (?, ?)
2025-04-07 20:17:34.009 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:17:34.032 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    update
        `cuenta_bancaria` 
    set
        `moneda`=?,
        `saldo`=?,
        `usuario_id`=? 
    where
        `id`=?
2025-04-07 20:17:34.047 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `movimientos`
        (
            `cantidad`, `categoria_id`, `descripcion`, `fecha`, `is_perfil`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:17:34.058 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:17:56.581 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:17:56.587 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:17:56.591 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:17:56.602 [http-nio-8080-exec-3] INFO  c.e.G.C.T.ControllerTransaccion.addCreate_Transaccion - Creando transacción para usuario ID: 2
2025-04-07 20:17:56.606 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0
2025-04-07 20:17:56.612 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:17:56.618 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:17:56.624 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:17:56.628 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `categorias`
        (
            `descripcion`, `tipo`
        ) 
    values
        (?, ?)
2025-04-07 20:17:56.670 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:17:56.676 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    update
        `cuenta_bancaria` 
    set
        `moneda`=?,
        `saldo`=?,
        `usuario_id`=? 
    where
        `id`=?
2025-04-07 20:17:56.683 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `movimientos`
        (
            `cantidad`, `categoria_id`, `descripcion`, `fecha`, `is_perfil`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:17:56.694 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:17:56.703 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:17:56.703 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:17:56.714 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:18:10.501 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:18:10.505 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:18:10.512 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:18:10.522 [http-nio-8080-exec-4] INFO  c.e.G.C.T.ControllerTransaccion.addCreate_Transaccion - Creando transacción para usuario ID: 3
2025-04-07 20:18:10.525 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0
2025-04-07 20:18:10.531 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:18:10.536 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:18:10.541 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:18:10.545 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id` 
    from
        `cuenta_bancaria` cb1_0 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:18:10.551 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    update
        `cuenta_bancaria` 
    set
        `moneda`=?,
        `saldo`=?,
        `usuario_id`=? 
    where
        `id`=?
2025-04-07 20:18:10.564 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `movimientos`
        (
            `cantidad`, `categoria_id`, `descripcion`, `fecha`, `is_perfil`
        ) 
    values
        (?, ?, ?, ?, ?)
2025-04-07 20:18:10.574 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha`,
        a1_0.`perfil_id`,
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `auditoria` a1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=a1_0.`perfil_id` 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        a1_0.`id`=?
2025-04-07 20:18:10.582 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:18:10.587 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`perfil`,
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=?
2025-04-07 20:18:10.591 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        a1_0.`perfil_id`,
        a1_0.`id`,
        a1_0.`accion`,
        a1_0.`detalles`,
        a1_0.`fecha` 
    from
        `auditoria` a1_0 
    where
        a1_0.`perfil_id`=?
2025-04-07 20:18:10.601 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    update
        `auditoria` 
    set
        `accion`=?,
        `detalles`=?,
        `fecha`=?,
        `perfil_id`=? 
    where
        `id`=?
2025-04-07 20:18:37.585 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:18:38.227 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:18:38.247 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:18:38.259 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:18:38.267 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:19:33.123 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 23388 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:19:33.130 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:19:33.268 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:19:33.269 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:19:36.786 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:19:37.174 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 355 ms. Found 8 JPA repository interfaces.
2025-04-07 20:19:39.446 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:19:39.483 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:19:39.484 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:19:39.664 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:19:39.666 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 6394 ms
2025-04-07 20:19:40.001 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:19:40.464 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:19:40.728 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@284d7750
2025-04-07 20:19:40.734 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:19:40.801 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:19:40.858 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:19:40.960 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.056s)
2025-04-07 20:19:40.986 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:19:40.994 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:19:41.233 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:19:41.546 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:19:41.643 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:19:43.469 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:19:43.645 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:19:43.661 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1f780dcc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@76bbd493)
2025-04-07 20:19:43.662 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@259a7923) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3a20492f)
2025-04-07 20:19:43.663 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@656925ca) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4dde6ab8)
2025-04-07 20:19:43.664 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3b7b5141) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3aa1e30)
2025-04-07 20:19:43.665 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2f412cfa) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@11741800)
2025-04-07 20:19:43.666 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@70e4b236) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@23ec7984)
2025-04-07 20:19:43.667 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@56ca7ff) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@34691b4a)
2025-04-07 20:19:43.668 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@61496af3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@21291f07)
2025-04-07 20:19:43.668 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@419a1782) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3d55f7b0)
2025-04-07 20:19:46.423 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:19:47.965 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:19:49.249 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:19:50.939 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:19:50.943 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:19:51.755 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:19:51.762 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:19:52.929 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:19:53.018 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:19:53.037 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 21.637 seconds (process running for 23.539)
2025-04-07 20:19:53.187 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:19:53.262 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:19:53.286 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:19:53.290 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:19:56.729 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:19:56.730 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:19:56.735 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:19:57.337 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:19:57.343 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:19:57.356 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:19:57.476 [http-nio-8080-exec-2] INFO  c.e.G.C.P.PresupuestoController.deletePresupuesto - Iniciando eliminación de presupuesto con ID: 3
2025-04-07 20:19:57.520 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p2_0.`id`,
        p2_1.`activo`,
        p2_1.`creación`,
        p2_1.`password`,
        p2_1.`fecha_ultimo_login`,
        p2_1.`username`,
        p2_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p2_0.`dni`,
        p2_0.`email`,
        p2_0.`nombre`,
        p2_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    join
        `perfil` p2_0 
            on p2_0.`id`=p1_0.`perfil` 
    join
        `usuario` p2_1 
            on p2_0.`id`=p2_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p2_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p2_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:19:57.527 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:19:57.653 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    delete 
    from
        `presupuesto` 
    where
        `id`=?
2025-04-07 20:19:57.681 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:19:57.718 [http-nio-8080-exec-2] INFO  c.e.G.C.P.PresupuestoController.deletePresupuesto - Presupuesto eliminado con éxito, ID: 3
2025-04-07 20:20:01.863 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:20:01.866 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:20:01.872 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:20:01.883 [http-nio-8080-exec-3] INFO  c.e.G.C.P.PresupuestoController.deletePresupuesto - Iniciando eliminación de presupuesto con ID: 3
2025-04-07 20:20:01.885 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p2_0.`id`,
        p2_1.`activo`,
        p2_1.`creación`,
        p2_1.`password`,
        p2_1.`fecha_ultimo_login`,
        p2_1.`username`,
        p2_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p2_0.`dni`,
        p2_0.`email`,
        p2_0.`nombre`,
        p2_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    join
        `perfil` p2_0 
            on p2_0.`id`=p1_0.`perfil` 
    join
        `usuario` p2_1 
            on p2_0.`id`=p2_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p2_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p2_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:20:01.891 [http-nio-8080-exec-3] ERROR c.e.G.C.P.PresupuestoController.deletePresupuesto - Error al eliminar el presupuesto con ID: 3. Detalles: Error al borrar el presupuesto con identificador 3
2025-04-07 20:20:14.807 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:20:15.613 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:20:15.626 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:20:15.635 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:20:15.647 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:20:35.078 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1336 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:20:35.082 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:20:35.161 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:20:35.161 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:20:37.412 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:20:37.676 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 246 ms. Found 8 JPA repository interfaces.
2025-04-07 20:20:39.399 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:20:39.424 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:20:39.425 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:20:39.535 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:20:39.536 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 4374 ms
2025-04-07 20:20:39.799 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:20:40.243 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:20:40.480 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@14eb5e81
2025-04-07 20:20:40.483 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:20:40.555 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:20:40.580 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:20:40.666 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.047s)
2025-04-07 20:20:40.690 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:20:40.698 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:20:40.939 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:20:41.060 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:20:41.153 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:20:42.943 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:20:43.161 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:20:43.182 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@aacdc7a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c41c7ab)
2025-04-07 20:20:43.183 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@73aac217) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@60a4f838)
2025-04-07 20:20:43.184 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@c07a75a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e0945ee)
2025-04-07 20:20:43.185 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5b168a42) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1cb4cc20)
2025-04-07 20:20:43.186 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2db8859b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@19aa93f7)
2025-04-07 20:20:43.187 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@76814e1a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4cee5926)
2025-04-07 20:20:43.188 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2593897d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@68eb9313)
2025-04-07 20:20:43.189 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1466f18a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2affbd49)
2025-04-07 20:20:43.190 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@139e110a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@27d96b61)
2025-04-07 20:20:46.279 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:20:47.816 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:20:48.996 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:20:50.526 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:20:50.528 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:20:51.367 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:20:51.375 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:20:52.624 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:20:52.757 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:20:52.779 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 18.868 seconds (process running for 20.68)
2025-04-07 20:20:52.961 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:20:53.054 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:20:53.076 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:20:53.080 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:21:16.585 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:21:16.586 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:21:16.591 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:21:17.366 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:21:17.371 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:21:17.385 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:21:17.522 [http-nio-8080-exec-2] INFO  c.e.G.C.P.PresupuestoController.obtenerPresupuesto - Consultando presupuesto con ID: 3
2025-04-07 20:21:17.599 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p2_0.`id`,
        p2_1.`activo`,
        p2_1.`creación`,
        p2_1.`password`,
        p2_1.`fecha_ultimo_login`,
        p2_1.`username`,
        p2_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p2_0.`dni`,
        p2_0.`email`,
        p2_0.`nombre`,
        p2_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    join
        `perfil` p2_0 
            on p2_0.`id`=p1_0.`perfil` 
    join
        `usuario` p2_1 
            on p2_0.`id`=p2_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p2_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p2_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:21:17.612 [http-nio-8080-exec-2] ERROR c.e.G.E.ControllerExceptionHandler.handleNotFoundEntityException - Entidad no encontrada: la entidad Presupuesto buscada con id: 3 no existe
com.example.Gestor.Exception.NotFoundEntityException: la entidad Presupuesto buscada con id: 3 no existe
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.lambda$findById$1(PresupuestoService.java:109)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.example.Gestor.Model.Service.Presupuesto.PresupuestoService.findById(PresupuestoService.java:108)
	at com.example.Gestor.Controller.Presupuesto.PresupuestoController.obtenerPresupuesto(PresupuestoController.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.Gestor.Config.Security.JWTAuthenticationFilter.doFilterInternal(JWTAuthenticationFilter.java:68)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-04-07 20:21:17.713 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.logException - Resolved [com.example.Gestor.Exception.NotFoundEntityException: la entidad Presupuesto buscada con id: 3 no existe]
2025-04-07 20:21:21.692 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:21:21.697 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:21:21.702 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:21:21.712 [http-nio-8080-exec-3] INFO  c.e.G.C.P.PresupuestoController.obtenerPresupuesto - Consultando presupuesto con ID: 2
2025-04-07 20:21:21.716 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p2_0.`id`,
        p2_1.`activo`,
        p2_1.`creación`,
        p2_1.`password`,
        p2_1.`fecha_ultimo_login`,
        p2_1.`username`,
        p2_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p2_0.`dni`,
        p2_0.`email`,
        p2_0.`nombre`,
        p2_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    join
        `perfil` p2_0 
            on p2_0.`id`=p1_0.`perfil` 
    join
        `usuario` p2_1 
            on p2_0.`id`=p2_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p2_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p2_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:21:21.722 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:21:21.844 [http-nio-8080-exec-3] INFO  c.e.G.C.P.PresupuestoController.obtenerPresupuesto - Presupuesto recuperado: com.example.Gestor.DTO.Presupuesto.PresupuestoDTO@6f7da38b
2025-04-07 20:21:24.726 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:21:24.730 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:21:24.736 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:21:24.744 [http-nio-8080-exec-4] INFO  c.e.G.C.P.PresupuestoController.obtenerPresupuesto - Consultando presupuesto con ID: 1
2025-04-07 20:21:24.748 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p2_0.`id`,
        p2_1.`activo`,
        p2_1.`creación`,
        p2_1.`password`,
        p2_1.`fecha_ultimo_login`,
        p2_1.`username`,
        p2_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p2_0.`dni`,
        p2_0.`email`,
        p2_0.`nombre`,
        p2_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    join
        `perfil` p2_0 
            on p2_0.`id`=p1_0.`perfil` 
    join
        `usuario` p2_1 
            on p2_0.`id`=p2_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p2_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p2_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:21:24.753 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:21:24.760 [http-nio-8080-exec-4] INFO  c.e.G.C.P.PresupuestoController.obtenerPresupuesto - Presupuesto recuperado: com.example.Gestor.DTO.Presupuesto.PresupuestoDTO@30f0536b
2025-04-07 20:21:55.510 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener.onApplicationEvent - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-07 20:21:55.517 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:21:55.870 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:21:55.885 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:21:55.895 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:21:55.904 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:21:56.111 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1336 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:21:56.112 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:21:57.065 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:21:57.144 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 76 ms. Found 8 JPA repository interfaces.
2025-04-07 20:21:57.414 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:21:57.415 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:21:57.416 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:21:57.465 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:21:57.466 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1349 ms
2025-04-07 20:21:57.529 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:21:57.565 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Starting...
2025-04-07 20:21:57.571 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-2 - Added connection org.mariadb.jdbc.Connection@67dff0a5
2025-04-07 20:21:57.572 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Start completed.
2025-04-07 20:21:57.573 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:21:57.580 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:21:57.595 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.007s)
2025-04-07 20:21:57.603 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:21:57.605 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:21:57.659 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:21:57.672 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:21:57.776 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:21:57.781 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:21:57.782 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1584450e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2ec7eede)
2025-04-07 20:21:57.783 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2ad3c68) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@71b22c87)
2025-04-07 20:21:57.784 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@46a9bb8a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@57090c9f)
2025-04-07 20:21:57.785 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3cac246a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5c9ae16c)
2025-04-07 20:21:57.786 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5764649e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4896f719)
2025-04-07 20:21:57.786 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@15441515) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1ede1750)
2025-04-07 20:21:57.787 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6aead081) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@15bbdcfa)
2025-04-07 20:21:57.788 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@20e29fe5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ee8683e)
2025-04-07 20:21:57.789 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@723ad7ba) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@392d990b)
2025-04-07 20:21:58.290 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:21:58.305 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:21:58.968 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController': Unsatisfied dependency expressed through field 'authenticationService': Error creating bean with name 'authenticationService': Unsatisfied dependency expressed through field 'passwordEncoder': No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-07 20:21:58.969 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:21:58.970 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown initiated...
2025-04-07 20:21:58.978 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown completed.
2025-04-07 20:21:58.979 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
2025-04-07 20:21:58.990 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07 20:21:59.041 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter.report - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field passwordEncoder in com.example.Gestor.Model.Service.Authentication.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

2025-04-07 20:22:00.600 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1336 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:22:00.601 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:22:01.085 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:22:01.135 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 49 ms. Found 8 JPA repository interfaces.
2025-04-07 20:22:01.349 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:22:01.350 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:22:01.350 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:22:01.390 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:22:01.390 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 786 ms
2025-04-07 20:22:01.470 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:22:01.513 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Starting...
2025-04-07 20:22:01.518 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-3 - Added connection org.mariadb.jdbc.Connection@619e0201
2025-04-07 20:22:01.518 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Start completed.
2025-04-07 20:22:01.519 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:22:01.525 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:22:01.535 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.005s)
2025-04-07 20:22:01.543 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:22:01.544 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:22:01.591 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:22:01.596 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:22:01.656 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:22:01.659 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:22:01.660 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4c808c6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@15fe8650)
2025-04-07 20:22:01.660 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5d48177b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f676432)
2025-04-07 20:22:01.661 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1badd920) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7a001003)
2025-04-07 20:22:01.661 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@676e23f7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@34c8ddc)
2025-04-07 20:22:01.661 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@765d204c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@ca7b68c)
2025-04-07 20:22:01.661 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1a404d74) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7d85018d)
2025-04-07 20:22:01.661 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@62c50131) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5367d833)
2025-04-07 20:22:01.662 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4b5414c6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1e08fd48)
2025-04-07 20:22:01.662 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@540eab31) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@39c547c3)
2025-04-07 20:22:01.885 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:22:01.893 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:22:02.413 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:22:02.414 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:22:02.604 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:22:02.608 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:22:02.924 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:22:02.944 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:22:02.952 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 2.414 seconds (process running for 90.854)
2025-04-07 20:22:02.955 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:22:02.958 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:22:02.962 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:22:02.965 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:22:02.969 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener.onApplicationEvent - Condition evaluation unchanged
2025-04-07 20:22:30.853 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:22:30.853 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:22:30.855 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 2 ms
2025-04-07 20:22:30.862 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:22:30.865 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:22:30.869 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:22:30.879 [http-nio-8080-exec-3] INFO  c.e.G.C.P.PresupuestoController.getAllPresupuestosByUser - Obteniendo todos los presupuestos del usuario ID: 2
2025-04-07 20:22:30.887 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:22:30.888 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:22:30.892 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:22:30.898 [http-nio-8080-exec-3] INFO  c.e.G.C.P.PresupuestoController.getAllPresupuestosByUser - Presupuestos encontrados para el usuario ID: 2
2025-04-07 20:22:34.619 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:22:34.622 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:22:34.625 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:22:34.632 [http-nio-8080-exec-4] INFO  c.e.G.C.P.PresupuestoController.getAllPresupuestosByUser - Obteniendo todos los presupuestos del usuario ID: 3
2025-04-07 20:22:34.635 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:22:34.636 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:22:34.639 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:22:34.641 [http-nio-8080-exec-4] INFO  c.e.G.C.P.PresupuestoController.getAllPresupuestosByUser - Presupuestos encontrados para el usuario ID: 3
2025-04-07 20:23:07.691 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:23:07.734 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:23:07.775 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:23:07.832 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:23:07.934 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:23:07.941 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:23:07.949 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:23:11.239 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener.onApplicationEvent - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-07 20:23:11.250 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:23:11.767 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:23:11.777 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:23:11.778 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown initiated...
2025-04-07 20:23:11.788 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown completed.
2025-04-07 20:23:12.041 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1336 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:23:12.042 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:23:13.183 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:23:13.349 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 162 ms. Found 8 JPA repository interfaces.
2025-04-07 20:23:13.751 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:23:13.752 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:23:13.752 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:23:13.860 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:23:13.860 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1813 ms
2025-04-07 20:23:13.933 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:23:13.966 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-4 - Starting...
2025-04-07 20:23:13.973 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-4 - Added connection org.mariadb.jdbc.Connection@2996b8fd
2025-04-07 20:23:13.974 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-4 - Start completed.
2025-04-07 20:23:13.975 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:23:13.981 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:23:13.994 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.006s)
2025-04-07 20:23:14.001 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:23:14.002 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:23:14.086 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:23:14.095 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:23:14.187 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:23:14.190 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:23:14.191 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@20814c5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@147934f)
2025-04-07 20:23:14.192 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ee800cf) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7f18c4e1)
2025-04-07 20:23:14.193 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3d7449fb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1478f1)
2025-04-07 20:23:14.193 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7e84fe44) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@478212b9)
2025-04-07 20:23:14.194 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5826a023) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7bd68826)
2025-04-07 20:23:14.194 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@22792fc6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@75b9f6ea)
2025-04-07 20:23:14.195 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@18f367c6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@57ab4b46)
2025-04-07 20:23:14.196 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3cc7496a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@673f6be)
2025-04-07 20:23:14.196 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@53d6ce1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@841f67b)
2025-04-07 20:23:14.621 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:23:14.633 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:23:15.519 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController': Unsatisfied dependency expressed through field 'authenticationService': Error creating bean with name 'authenticationService': Unsatisfied dependency expressed through field 'passwordEncoder': No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-07 20:23:15.520 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:23:15.521 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-4 - Shutdown initiated...
2025-04-07 20:23:15.530 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-4 - Shutdown completed.
2025-04-07 20:23:15.531 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
2025-04-07 20:23:15.550 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07 20:23:15.573 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter.report - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field passwordEncoder in com.example.Gestor.Model.Service.Authentication.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

2025-04-07 20:23:18.735 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1336 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:23:18.735 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:23:19.454 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:23:19.528 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 71 ms. Found 8 JPA repository interfaces.
2025-04-07 20:23:19.838 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:23:19.839 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:23:19.839 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:23:19.898 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:23:19.898 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1161 ms
2025-04-07 20:23:19.990 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:23:20.027 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-5 - Starting...
2025-04-07 20:23:20.032 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-5 - Added connection org.mariadb.jdbc.Connection@4f95a956
2025-04-07 20:23:20.033 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-5 - Start completed.
2025-04-07 20:23:20.034 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:23:20.040 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:23:20.053 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.006s)
2025-04-07 20:23:20.064 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:23:20.065 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:23:20.124 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:23:20.135 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:23:20.235 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:23:20.238 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:23:20.239 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5186514f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1d2a21b1)
2025-04-07 20:23:20.240 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4dff1a4d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@361d9b09)
2025-04-07 20:23:20.240 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5572a8ac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@19193c1a)
2025-04-07 20:23:20.240 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2c817006) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@761e634c)
2025-04-07 20:23:20.240 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@366992eb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66c081d0)
2025-04-07 20:23:20.241 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@41e6cc4e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4467c33d)
2025-04-07 20:23:20.241 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ee3ef90) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5c4f379d)
2025-04-07 20:23:20.241 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2bbc14e6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@51385487)
2025-04-07 20:23:20.241 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7006ae5f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@55509c1d)
2025-04-07 20:23:20.516 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:23:20.521 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:23:21.181 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:23:21.182 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:23:21.373 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:23:21.378 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:23:21.801 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:23:21.822 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:23:21.829 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 3.153 seconds (process running for 169.732)
2025-04-07 20:23:21.834 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:23:21.837 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:23:21.840 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:23:21.842 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:23:21.845 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener.onApplicationEvent - Condition evaluation unchanged
2025-04-07 20:23:30.285 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:23:30.285 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:23:30.291 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 6 ms
2025-04-07 20:23:30.307 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:23:30.311 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:23:30.316 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:23:30.342 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:23:30.344 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:23:30.349 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:23:30.357 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:24:26.075 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener.onApplicationEvent - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-07 20:24:26.077 [Thread-14] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:24:26.435 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:24:26.440 [Thread-14] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:24:26.441 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-5 - Shutdown initiated...
2025-04-07 20:24:26.448 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-5 - Shutdown completed.
2025-04-07 20:24:26.601 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1336 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:24:26.602 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:24:27.476 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:24:27.547 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 69 ms. Found 8 JPA repository interfaces.
2025-04-07 20:24:27.790 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:24:27.791 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:24:27.791 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:24:27.838 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:24:27.838 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1204 ms
2025-04-07 20:24:27.927 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:24:27.955 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-6 - Starting...
2025-04-07 20:24:27.961 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-6 - Added connection org.mariadb.jdbc.Connection@8f2a2b7
2025-04-07 20:24:27.962 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-6 - Start completed.
2025-04-07 20:24:27.963 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:24:27.969 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:24:27.980 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.005s)
2025-04-07 20:24:27.990 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:24:27.991 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:24:28.043 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:24:28.049 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:24:28.100 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:24:28.103 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:24:28.104 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@397b01a3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6dc18731)
2025-04-07 20:24:28.105 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3791725e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5db4a3c1)
2025-04-07 20:24:28.105 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3c23c7cd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5d3a2777)
2025-04-07 20:24:28.105 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6185ad0c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@19d7b056)
2025-04-07 20:24:28.106 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3b68010e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@37e5888b)
2025-04-07 20:24:28.106 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7bc4aeb6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5f35e498)
2025-04-07 20:24:28.107 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@24aefe01) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3f149bcf)
2025-04-07 20:24:28.107 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@119a1a16) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4217a0d2)
2025-04-07 20:24:28.108 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@59c681bc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6119e60a)
2025-04-07 20:24:28.435 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:24:28.444 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:24:29.102 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController': Unsatisfied dependency expressed through field 'authenticationService': Error creating bean with name 'authenticationService': Unsatisfied dependency expressed through field 'passwordEncoder': No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-07 20:24:29.102 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:24:29.103 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-6 - Shutdown initiated...
2025-04-07 20:24:29.109 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-6 - Shutdown completed.
2025-04-07 20:24:29.110 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
2025-04-07 20:24:29.125 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07 20:24:29.165 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter.report - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field passwordEncoder in com.example.Gestor.Model.Service.Authentication.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

2025-04-07 20:24:30.735 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 1336 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:24:30.735 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:24:31.578 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:24:31.712 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 131 ms. Found 8 JPA repository interfaces.
2025-04-07 20:24:32.467 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:24:32.468 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:24:32.468 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:24:32.509 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:24:32.509 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1771 ms
2025-04-07 20:24:32.584 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:24:32.618 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-7 - Starting...
2025-04-07 20:24:32.623 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-7 - Added connection org.mariadb.jdbc.Connection@50f36a4b
2025-04-07 20:24:32.623 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-7 - Start completed.
2025-04-07 20:24:32.624 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:24:32.630 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:24:32.642 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.005s)
2025-04-07 20:24:32.650 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:24:32.652 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:24:32.727 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:24:32.733 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:24:32.787 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:24:32.790 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:24:32.791 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@62148d22) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@72442821)
2025-04-07 20:24:32.792 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@78d2278f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@88c3840)
2025-04-07 20:24:32.792 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4eb7d9ee) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1d61f539)
2025-04-07 20:24:32.793 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74e65745) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1dc13fa1)
2025-04-07 20:24:32.793 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6d49fd5e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7f1305f3)
2025-04-07 20:24:32.793 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3989392b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2d21358c)
2025-04-07 20:24:32.794 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@fa08e7b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@68fb3ee1)
2025-04-07 20:24:32.794 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@18cb02b4) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ce2c974)
2025-04-07 20:24:32.794 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37ba4bc5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@68767e5)
2025-04-07 20:24:33.038 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:24:33.043 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:24:33.629 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:24:33.630 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:24:33.892 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:24:33.898 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:24:34.569 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:24:34.594 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:24:34.601 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 3.915 seconds (process running for 242.503)
2025-04-07 20:24:34.605 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:24:34.609 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:24:34.612 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:24:34.614 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:24:34.618 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener.onApplicationEvent - Condition evaluation unchanged
2025-04-07 20:25:25.088 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:25:25.088 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:25:25.092 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 3 ms
2025-04-07 20:25:25.247 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:25:25.255 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:25:25.265 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:25:25.283 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver.logException - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-04-07 20:25:45.317 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:25:45.321 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:25:45.324 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:25:45.363 [http-nio-8080-exec-3] INFO  c.e.G.C.P.PresupuestoController.modificarPresupuesto - Modificando presupuesto del usuario con ID de presupuesto: 2
2025-04-07 20:25:45.365 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p2_0.`id`,
        p2_1.`activo`,
        p2_1.`creación`,
        p2_1.`password`,
        p2_1.`fecha_ultimo_login`,
        p2_1.`username`,
        p2_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p2_0.`dni`,
        p2_0.`email`,
        p2_0.`nombre`,
        p2_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    join
        `perfil` p2_0 
            on p2_0.`id`=p1_0.`perfil` 
    join
        `usuario` p2_1 
            on p2_0.`id`=p2_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p2_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p2_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:25:45.370 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:25:45.428 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    insert 
    into
        `auditoria`
        (
            `accion`, `detalles`, `fecha`, `perfil_id`
        ) 
    values
        (?, ?, ?, ?)
2025-04-07 20:25:45.541 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    update
        `presupuesto` 
    set
        `limite_mensual`=?,
        `descripcion`=?,
        `fecha_del_mes`=?,
        `perfil`=?,
        `presupuesto_del_mes`=? 
    where
        `id`=?
2025-04-07 20:26:10.609 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:26:10.612 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:26:10.615 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:26:10.627 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:26:10.629 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:26:10.633 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:26:10.638 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:26:19.576 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:26:19.579 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:26:19.581 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:26:19.599 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_0.`limite_mensual`,
        p1_0.`descripcion`,
        p1_0.`fecha_del_mes`,
        p1_0.`perfil`,
        p1_0.`presupuesto_del_mes` 
    from
        `presupuesto` p1_0 
    where
        p1_0.`perfil`=? 
    order by
        p1_0.`fecha_del_mes` desc
2025-04-07 20:26:19.600 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:26:19.603 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:26:19.607 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:26:34.002 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:26:34.639 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:26:34.646 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:26:34.648 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-7 - Shutdown initiated...
2025-04-07 20:26:34.655 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-7 - Shutdown completed.
2025-04-07 20:27:33.864 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 16492 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:27:33.869 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:27:33.968 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:27:33.969 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:27:36.052 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:27:36.238 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 172 ms. Found 8 JPA repository interfaces.
2025-04-07 20:27:38.098 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:27:38.163 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:27:38.164 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:27:38.551 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:27:38.559 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 4588 ms
2025-04-07 20:27:39.116 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:27:39.701 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:27:39.992 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@504dc99b
2025-04-07 20:27:39.998 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:27:40.132 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:27:40.168 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:27:40.312 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.096s)
2025-04-07 20:27:40.340 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:27:40.351 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:27:40.695 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:27:40.945 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:27:41.071 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:27:43.370 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:27:43.558 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:27:43.583 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5257f9e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1c1ac342)
2025-04-07 20:27:43.583 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4090542f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@f683faf)
2025-04-07 20:27:43.584 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@629d5f5b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@28578099)
2025-04-07 20:27:43.585 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6aa48890) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@247f572c)
2025-04-07 20:27:43.593 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2c90b37f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@38d7bd3c)
2025-04-07 20:27:43.594 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@767942be) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2861ad6a)
2025-04-07 20:27:43.596 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@143e852) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4788b1b)
2025-04-07 20:27:43.605 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@38285598) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1d07a50a)
2025-04-07 20:27:43.610 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@318df80) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@43f8acab)
2025-04-07 20:27:47.443 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:27:48.873 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:27:49.949 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:27:51.361 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:27:51.363 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:27:52.029 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:27:52.035 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:27:53.004 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:27:53.075 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:27:53.090 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 20.935 seconds (process running for 22.541)
2025-04-07 20:27:53.211 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:27:53.282 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:27:53.299 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:27:53.303 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:27:57.931 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:27:57.932 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:27:57.936 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:27:58.350 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:27:58.355 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:27:58.365 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:27:58.484 [http-nio-8080-exec-1] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Obteniendo transacciones para el usuario ID: 3
2025-04-07 20:27:58.491 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:27:58.504 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:27:58.507 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:27:58.512 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:27:58.515 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:27:58.586 [http-nio-8080-exec-1] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Movimientos obtenidas exitosamente para el usuario ID: 3
2025-04-07 20:28:06.186 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:28:06.190 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:28:06.192 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:28:06.200 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Obteniendo transacciones para el usuario ID: 2
2025-04-07 20:28:06.203 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:28:06.205 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:28:06.207 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:28:06.210 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:28:06.213 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:28:06.215 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:28:06.217 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Movimientos obtenidas exitosamente para el usuario ID: 2
2025-04-07 20:28:17.444 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:28:18.117 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:28:18.139 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:28:18.145 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:28:18.152 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:29:29.664 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 10988 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:29:29.670 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:29:29.762 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:29:29.763 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:29:31.776 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:29:31.957 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 165 ms. Found 8 JPA repository interfaces.
2025-04-07 20:29:33.274 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:29:33.298 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:29:33.300 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:29:33.422 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:29:33.423 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 3658 ms
2025-04-07 20:29:33.681 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:29:34.028 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:29:34.201 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@56df1449
2025-04-07 20:29:34.206 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:29:34.262 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:29:34.288 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:29:34.362 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.042s)
2025-04-07 20:29:34.386 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:29:34.391 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:29:34.591 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:29:34.731 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:29:34.811 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:29:36.496 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:29:36.725 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:29:36.746 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@78040476) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@242275e0)
2025-04-07 20:29:36.747 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4c117a13) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@427feedc)
2025-04-07 20:29:36.748 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1a007551) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2d3a8e84)
2025-04-07 20:29:36.749 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a3cb8d2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5788b247)
2025-04-07 20:29:36.750 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4e3bff1a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@370c06f7)
2025-04-07 20:29:36.751 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3879c2ec) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2af1552e)
2025-04-07 20:29:36.752 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3b23ac45) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ccf3e68)
2025-04-07 20:29:36.752 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1a57ffbf) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3a2f91fe)
2025-04-07 20:29:36.752 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1cc8437a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9e102f5)
2025-04-07 20:29:39.803 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:29:41.727 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:29:43.075 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:29:44.603 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:29:44.604 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:29:45.499 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:29:45.505 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:29:46.671 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:29:46.858 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:29:46.882 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 18.426 seconds (process running for 20.253)
2025-04-07 20:29:46.998 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:29:47.073 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:29:47.103 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:29:47.117 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:29:51.300 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:29:51.300 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:29:51.305 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 3 ms
2025-04-07 20:29:51.989 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:29:51.994 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:29:52.003 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:29:52.086 [http-nio-8080-exec-1] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Obteniendo transacciones para el usuario ID: 2
2025-04-07 20:29:52.094 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:29:52.106 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:29:52.111 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:29:52.116 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:29:52.119 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:29:52.122 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:29:52.252 [http-nio-8080-exec-1] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Movimientos obtenidas exitosamente para el usuario ID: 2
2025-04-07 20:30:07.047 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:30:07.468 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:30:07.499 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:30:07.506 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:30:07.513 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:30:13.728 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 21852 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:30:13.731 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:30:13.817 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:30:13.817 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:30:15.768 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:30:15.955 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 174 ms. Found 8 JPA repository interfaces.
2025-04-07 20:30:17.260 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:30:17.281 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:30:17.282 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:30:17.372 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:30:17.373 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 3554 ms
2025-04-07 20:30:17.593 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:30:17.927 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:30:18.100 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@258f9cc4
2025-04-07 20:30:18.104 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:30:18.141 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:30:18.182 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:30:18.296 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.047s)
2025-04-07 20:30:18.316 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:30:18.321 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:30:18.527 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:30:18.609 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:30:18.663 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:30:20.036 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:30:20.196 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:30:20.228 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3f432e3b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@780f2e52)
2025-04-07 20:30:20.230 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@34e9ebf2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2851447a)
2025-04-07 20:30:20.232 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@ec595bd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@fb95789)
2025-04-07 20:30:20.243 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74f49bf7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@56a46387)
2025-04-07 20:30:20.245 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74ee6c93) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@312e6898)
2025-04-07 20:30:20.247 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@61556669) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1418899f)
2025-04-07 20:30:20.247 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1315e57b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@513d2529)
2025-04-07 20:30:20.248 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1b916749) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4b9551d5)
2025-04-07 20:30:20.250 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@77174be1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4fbb3c47)
2025-04-07 20:30:23.396 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:30:24.924 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:30:26.913 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:30:29.231 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:30:29.232 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:30:29.933 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:30:29.940 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:30:31.349 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:30:31.469 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:30:31.488 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 19.249 seconds (process running for 21.211)
2025-04-07 20:30:31.692 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:30:31.786 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:30:31.813 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:30:31.818 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:30:39.695 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:30:39.696 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:30:39.701 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:30:40.196 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:30:40.201 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:30:40.208 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:30:40.287 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Obteniendo transacciones para el usuario ID: 2
2025-04-07 20:30:40.294 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=?
2025-04-07 20:30:40.306 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:30:40.309 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:30:40.314 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:30:40.317 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:30:40.321 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:30:40.388 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Movimientos obtenidas exitosamente para el usuario ID: 2
2025-04-07 20:30:44.970 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:30:45.784 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:30:45.811 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:30:45.819 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:30:45.899 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:32:46.211 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 15056 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:32:46.215 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:32:46.319 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:32:46.320 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:32:49.004 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:32:49.209 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 187 ms. Found 8 JPA repository interfaces.
2025-04-07 20:32:51.007 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:32:51.029 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:32:51.030 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:32:51.182 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:32:51.183 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 4860 ms
2025-04-07 20:32:51.484 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:32:51.898 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:32:52.200 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@5933fb4a
2025-04-07 20:32:52.206 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:32:52.261 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:32:52.283 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:32:52.373 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.046s)
2025-04-07 20:32:52.391 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:32:52.397 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:32:52.645 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:32:52.764 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:32:52.881 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:32:54.408 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:32:54.562 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:32:54.579 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@12442e36) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@464b9545)
2025-04-07 20:32:54.579 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@320552c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1867df37)
2025-04-07 20:32:54.580 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2b617793) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@311a2e07)
2025-04-07 20:32:54.581 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3092843d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@162a6b7f)
2025-04-07 20:32:54.581 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@36d74bc6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@56dd210d)
2025-04-07 20:32:54.582 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@724ae487) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@37fe1822)
2025-04-07 20:32:54.583 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3b7bec60) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@491774b)
2025-04-07 20:32:54.583 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@215ac582) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66a2e683)
2025-04-07 20:32:54.584 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@25e1edb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@dfa0af4)
2025-04-07 20:32:57.515 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:32:59.100 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:33:00.326 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:33:01.848 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:33:01.849 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:33:02.668 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:33:02.677 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:33:03.839 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:33:03.939 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:33:03.961 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 19.089 seconds (process running for 21.138)
2025-04-07 20:33:04.116 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:33:04.195 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:33:04.217 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:33:04.222 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:33:07.925 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:33:07.926 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:33:07.930 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
2025-04-07 20:33:08.272 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:33:08.277 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:33:08.284 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:33:08.346 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Obteniendo transacciones para el usuario ID: 2
2025-04-07 20:33:08.354 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=? 
    order by
        m1_0.`fecha` desc
2025-04-07 20:33:08.363 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:08.365 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:33:08.371 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:08.373 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:08.376 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:33:08.430 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Movimientos obtenidas exitosamente para el usuario ID: 2
2025-04-07 20:33:14.458 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:33:14.463 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:33:14.468 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:33:14.478 [http-nio-8080-exec-3] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Obteniendo transacciones para el usuario ID: 2
2025-04-07 20:33:14.481 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=? 
    order by
        m1_0.`fecha` desc
2025-04-07 20:33:14.484 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:14.487 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:33:14.492 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:14.496 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:14.499 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:33:14.503 [http-nio-8080-exec-3] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Movimientos obtenidas exitosamente para el usuario ID: 2
2025-04-07 20:33:16.650 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:33:16.652 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:33:16.656 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:33:16.666 [http-nio-8080-exec-4] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Obteniendo transacciones para el usuario ID: 3
2025-04-07 20:33:16.667 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    where
        m1_0.`is_perfil`=? 
    order by
        m1_0.`fecha` desc
2025-04-07 20:33:16.669 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:16.672 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:33:16.676 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:33:16.678 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:33:16.682 [http-nio-8080-exec-4] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransacciones - Movimientos obtenidas exitosamente para el usuario ID: 3
2025-04-07 20:33:19.445 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:33:19.913 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:33:19.924 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:33:19.931 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:33:19.941 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:34:26.116 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 11960 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:34:26.124 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:34:26.245 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-07 20:34:26.246 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor.logTo - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-07 20:34:28.623 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:34:28.826 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 185 ms. Found 8 JPA repository interfaces.
2025-04-07 20:34:30.427 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:34:30.466 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:34:30.467 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:34:30.598 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:34:30.599 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 4349 ms
2025-04-07 20:34:30.857 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:34:31.274 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
2025-04-07 20:34:31.513 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2e7612bc
2025-04-07 20:34:31.518 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
2025-04-07 20:34:31.574 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:34:31.596 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:34:31.682 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.048s)
2025-04-07 20:34:31.703 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:34:31.710 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:34:31.942 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:34:32.095 [restartedMain] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-07 20:34:32.194 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:34:33.986 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:34:34.175 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:34:34.194 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@45c4646a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@58623876)
2025-04-07 20:34:34.195 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7edee423) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2031f2bd)
2025-04-07 20:34:34.196 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@46b035e5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@fd804cd)
2025-04-07 20:34:34.197 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@62e06e9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@29a5b88b)
2025-04-07 20:34:34.199 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6efdbf47) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@21cc2039)
2025-04-07 20:34:34.200 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@57a363a7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@53c6f838)
2025-04-07 20:34:34.202 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@50426280) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@104f4d59)
2025-04-07 20:34:34.203 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5c3dbaac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@38de8e2b)
2025-04-07 20:34:34.205 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7bcbadd2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@11041277)
2025-04-07 20:34:37.192 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:34:38.692 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:34:39.653 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-07 20:34:40.869 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:34:40.871 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:34:41.628 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:34:41.633 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:34:42.615 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:34:42.717 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:34:42.731 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 18.015 seconds (process running for 20.203)
2025-04-07 20:34:42.838 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:34:42.926 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:34:42.945 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:42.948 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:34:47.151 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:34:47.152 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:34:47.154 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 2 ms
2025-04-07 20:34:47.413 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:34:47.416 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:34:47.421 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:47.468 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransaccionesByCategoria - 🔍 Buscando transacciones para usuario ID: 2 en categoría ID: 0
2025-04-07 20:34:47.485 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    join
        `categorias` c1_0 
            on c1_0.`id`=m1_0.`categoria_id` 
    where
        m1_0.`is_perfil`=? 
        and c1_0.`tipo`=?
2025-04-07 20:34:47.500 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:34:47.503 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:34:47.506 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:51.414 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:34:51.417 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:34:51.420 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:51.427 [http-nio-8080-exec-3] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransaccionesByCategoria - 🔍 Buscando transacciones para usuario ID: 2 en categoría ID: 1
2025-04-07 20:34:51.430 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    join
        `categorias` c1_0 
            on c1_0.`id`=m1_0.`categoria_id` 
    where
        m1_0.`is_perfil`=? 
        and c1_0.`tipo`=?
2025-04-07 20:34:51.431 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:34:51.433 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:34:51.436 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:34:51.438 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:57.482 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:34:57.485 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:34:57.488 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:57.494 [http-nio-8080-exec-4] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransaccionesByCategoria - 🔍 Buscando transacciones para usuario ID: 3 en categoría ID: 0
2025-04-07 20:34:57.496 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    join
        `categorias` c1_0 
            on c1_0.`id`=m1_0.`categoria_id` 
    where
        m1_0.`is_perfil`=? 
        and c1_0.`tipo`=?
2025-04-07 20:34:57.497 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:34:57.499 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:34:57.502 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:59.136 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:34:59.139 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:34:59.143 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:34:59.153 [http-nio-8080-exec-5] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTransaccionesByCategoria - 🔍 Buscando transacciones para usuario ID: 3 en categoría ID: 1
2025-04-07 20:34:59.155 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        m1_0.`id`,
        m1_0.`cantidad`,
        m1_0.`categoria_id`,
        m1_0.`descripcion`,
        m1_0.`fecha`,
        m1_0.`is_perfil` 
    from
        `movimientos` m1_0 
    join
        `categorias` c1_0 
            on c1_0.`id`=m1_0.`categoria_id` 
    where
        m1_0.`is_perfil`=? 
        and c1_0.`tipo`=?
2025-04-07 20:34:59.159 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo` 
    from
        `categorias` c1_0 
    where
        c1_0.`id`=?
2025-04-07 20:34:59.161 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    left join
        `cuenta_bancaria` cb1_0 
            on p1_0.`id`=cb1_0.`usuario_id` 
    left join
        `user_role` r1_0 
            on p1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        p1_0.`id`=?
2025-04-07 20:34:59.165 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:35:22.387 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener.onApplicationEvent - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-04-07 20:35:22.402 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:35:22.768 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:35:22.779 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:35:22.787 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
2025-04-07 20:35:22.796 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
2025-04-07 20:35:22.992 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 11960 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:35:22.993 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:35:23.692 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:35:23.792 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 97 ms. Found 8 JPA repository interfaces.
2025-04-07 20:35:24.096 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:35:24.098 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:35:24.098 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:35:24.166 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:35:24.166 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1168 ms
2025-04-07 20:35:24.240 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:35:24.288 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Starting...
2025-04-07 20:35:24.297 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-2 - Added connection org.mariadb.jdbc.Connection@584740c3
2025-04-07 20:35:24.298 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-2 - Start completed.
2025-04-07 20:35:24.299 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:35:24.308 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:35:24.325 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.008s)
2025-04-07 20:35:24.337 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:35:24.338 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:35:24.400 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:35:24.406 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:35:24.516 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:35:24.521 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:35:24.522 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1e858899) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@8551d6b)
2025-04-07 20:35:24.523 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@56b47fba) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@66ab61b1)
2025-04-07 20:35:24.524 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5458fcbd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74c61d18)
2025-04-07 20:35:24.524 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@17ae595) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3c61aae2)
2025-04-07 20:35:24.525 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2fcf14c7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6b25f2fb)
2025-04-07 20:35:24.525 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3da5e447) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@c227fab)
2025-04-07 20:35:24.526 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5b9c3bc4) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1f6ab866)
2025-04-07 20:35:24.526 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@d7ff010) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@12bf0933)
2025-04-07 20:35:24.527 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@28c752bb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@62a4764d)
2025-04-07 20:35:24.929 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:35:24.941 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:35:25.551 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController': Unsatisfied dependency expressed through field 'authenticationService': Error creating bean with name 'authenticationService': Unsatisfied dependency expressed through field 'passwordEncoder': No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-04-07 20:35:25.552 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:35:25.554 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown initiated...
2025-04-07 20:35:25.559 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-2 - Shutdown completed.
2025-04-07 20:35:25.560 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
2025-04-07 20:35:25.573 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-07 20:35:25.626 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter.report - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field passwordEncoder in com.example.Gestor.Model.Service.Authentication.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.

2025-04-07 20:35:27.221 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarting - Starting GestorApplication v1.0 using Java 19.0.2 with PID 11960 (C:\Users\Sanchez\Downloads\Gestor\target\classes started by Sanchez in C:\Users\Sanchez\Downloads\Gestor)
2025-04-07 20:35:27.222 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStartupProfileInfo - The following 1 profile is active: "dev"
2025-04-07 20:35:27.833 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07 20:35:27.926 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 89 ms. Found 8 JPA repository interfaces.
2025-04-07 20:35:28.194 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port 8080 (http)
2025-04-07 20:35:28.196 [restartedMain] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
2025-04-07 20:35:28.196 [restartedMain] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-07 20:35:28.243 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
2025-04-07 20:35:28.244 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1018 ms
2025-04-07 20:35:28.350 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07 20:35:28.408 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Starting...
2025-04-07 20:35:28.415 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-3 - Added connection org.mariadb.jdbc.Connection@7ce89909
2025-04-07 20:35:28.416 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-3 - Start completed.
2025-04-07 20:35:28.417 [restartedMain] WARN  o.m.jdbc.message.server.ErrorPacket.warn - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2025-04-07 20:35:28.426 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor.info - Database: jdbc:mariadb://localhost/control_gastos?user=mariadb2&password=******** (MariaDB 10.11)
2025-04-07 20:35:28.441 [restartedMain] INFO  o.f.core.internal.command.DbValidate.info - Successfully validated 1 migration (execution time 00:00.008s)
2025-04-07 20:35:28.452 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Current version of schema `control_gastos`: 1
2025-04-07 20:35:28.453 [restartedMain] INFO  o.f.core.internal.command.DbMigrate.info - Schema `control_gastos` is up to date. No migration necessary.
2025-04-07 20:35:28.513 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07 20:35:28.522 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator.initiateService - HHH000026: Second-level cache disabled
2025-04-07 20:35:28.619 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07 20:35:28.623 [restartedMain] INFO  o.hibernate.orm.connections.pooling.initiateService - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 10.11.10
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-07 20:35:28.624 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@33013ba8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4b65749b)
2025-04-07 20:35:28.624 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4194c8c9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@53eb2db5)
2025-04-07 20:35:28.625 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@698d901b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@92cf01d)
2025-04-07 20:35:28.625 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6e99a371) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6495ad92)
2025-04-07 20:35:28.625 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@619df453) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@f5f5c65)
2025-04-07 20:35:28.626 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2c7ee4d4) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@65ce25f4)
2025-04-07 20:35:28.626 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6bff7a72) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1e36bf1c)
2025-04-07 20:35:28.626 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@45b5a04a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5140dc8d)
2025-04-07 20:35:28.627 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry.addDescriptor - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@41fc003d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a999941)
2025-04-07 20:35:28.912 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07 20:35:28.921 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:35:29.824 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer.configure - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-04-07 20:35:29.828 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer.configure - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-04-07 20:35:30.144 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/buscar/{perfilId}/{fecha}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:35:30.149 [restartedMain] WARN  o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry.requestMatchers - One of the patterns in [api/porcentaje-gastado/{usuarioId}] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-04-07 20:35:30.757 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer.startServer - LiveReload server is running on port 35729
2025-04-07 20:35:30.802 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port 8080 (http) with context path '/'
2025-04-07 20:35:30.814 [restartedMain] INFO  c.example.Gestor.GestorApplication.logStarted - Started GestorApplication in 3.663 seconds (process running for 68.286)
2025-04-07 20:35:30.820 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        p1_0.`id`,
        p1_1.`activo`,
        p1_1.`creación`,
        p1_1.`password`,
        p1_1.`fecha_ultimo_login`,
        p1_1.`username`,
        p1_0.`apellido`,
        p1_0.`dni`,
        p1_0.`email`,
        p1_0.`nombre`,
        p1_0.`telefono` 
    from
        `perfil` p1_0 
    join
        `usuario` p1_1 
            on p1_0.`id`=p1_1.`id` 
    where
        p1_1.`username`=?
2025-04-07 20:35:30.824 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:35:30.827 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:35:30.829 [restartedMain] DEBUG org.hibernate.SQL.logStatement - 
    select
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `user_role` r1_0 
    join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        r1_0.`user_codigo`=?
2025-04-07 20:35:30.834 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener.onApplicationEvent - Condition evaluation unchanged
2025-04-07 20:35:41.076 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07 20:35:41.077 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
2025-04-07 20:35:41.080 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 3 ms
2025-04-07 20:35:41.089 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:35:41.093 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:35:41.097 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:35:41.111 [http-nio-8080-exec-2] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTotalGastos - Calculando total de gastos para usuario ID: 2
2025-04-07 20:35:41.336 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - 
    select
        coalesce(sum(m1_0.`cantidad`), 0) 
    from
        `movimientos` m1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=m1_0.`is_perfil` 
    join
        `categorias` c1_0 
            on c1_0.`id`=m1_0.`categoria_id` 
    where
        p1_0.`id`=? 
        and c1_0.`tipo`=1
2025-04-07 20:35:47.298 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        u1_0.`id`,
        case 
            when u1_1.`id` is not null 
                then 1 
            when u1_0.`id` is not null 
                then 0 
        end,
        u1_0.`activo`,
        u1_0.`creación`,
        u1_0.`password`,
        u1_0.`fecha_ultimo_login`,
        u1_0.`username`,
        u1_1.`apellido`,
        u1_1.`id`,
        u1_1.`dni`,
        u1_1.`email`,
        u1_1.`nombre`,
        u1_1.`telefono` 
    from
        `usuario` u1_0 
    left join
        `perfil` u1_1 
            on u1_0.`id`=u1_1.`id` 
    where
        u1_0.`username`=?
2025-04-07 20:35:47.301 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        cb1_0.`id`,
        cb1_0.`moneda`,
        cb1_0.`saldo`,
        cb1_0.`usuario_id`,
        u1_0.`id`,
        u1_1.`activo`,
        u1_1.`creación`,
        u1_1.`password`,
        u1_1.`fecha_ultimo_login`,
        u1_1.`username`,
        u1_0.`apellido`,
        u1_0.`dni`,
        u1_0.`email`,
        u1_0.`nombre`,
        u1_0.`telefono`,
        r1_0.`user_codigo`,
        r1_1.`id`,
        r1_1.`nombre` 
    from
        `cuenta_bancaria` cb1_0 
    join
        `perfil` u1_0 
            on u1_0.`id`=cb1_0.`usuario_id` 
    join
        `usuario` u1_1 
            on u1_0.`id`=u1_1.`id` 
    left join
        `user_role` r1_0 
            on u1_1.`id`=r1_0.`user_codigo` 
    left join
        `role` r1_1 
            on r1_1.`id`=r1_0.`role_id` 
    where
        cb1_0.`usuario_id`=?
2025-04-07 20:35:47.304 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        t1_0.`is_perfil`,
        t1_0.`id`,
        t1_0.`cantidad`,
        t1_0.`categoria_id`,
        c1_0.`id`,
        c1_0.`descripcion`,
        c1_0.`tipo`,
        t1_0.`descripcion`,
        t1_0.`fecha` 
    from
        `movimientos` t1_0 
    left join
        `categorias` c1_0 
            on c1_0.`id`=t1_0.`categoria_id` 
    where
        t1_0.`is_perfil`=?
2025-04-07 20:35:47.311 [http-nio-8080-exec-3] INFO  c.e.G.C.T.ControllerTransaccion.obtenerTotalGastos - Calculando total de gastos para usuario ID: 3
2025-04-07 20:35:47.312 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - 
    select
        coalesce(sum(m1_0.`cantidad`), 0) 
    from
        `movimientos` m1_0 
    join
        `perfil` p1_0 
            on p1_0.`id`=m1_0.`is_perfil` 
    join
        `categorias` c1_0 
            on c1_0.`id`=m1_0.`categoria_id` 
    where
        p1_0.`id`=? 
        and c1_0.`tipo`=1
2025-04-07 20:36:30.065 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown.shutDownGracefully - Commencing graceful shutdown. Waiting for active requests to complete
2025-04-07 20:36:30.291 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown.doShutdown - Graceful shutdown complete
2025-04-07 20:36:30.297 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07 20:36:30.298 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown initiated...
2025-04-07 20:36:30.304 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-3 - Shutdown completed.
